#!/usr/bin/env node
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=80)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";const r=n(48);function s(e,t){const o=r(e,t,n(13));var i;return i=o,Object.keys(i).forEach(e=>{"argv"===e?s.__defineGetter__(e,i.__lookupGetter__(e)):"function"==typeof i[e]?s[e]=i[e].bind(i):(s.__defineGetter__("$0",()=>i.$0),s.__defineGetter__("parsed",()=>i.parsed))}),o}s(n(32).getProcessArgvWithoutBin()),e.exports=s},function(e,t,n){"use strict";e.exports=n(35)},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";function r(e){this.name="YError",this.message=e||"yargs error",Error.captureStackTrace(this,r)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){const r=n(34),s=n(36),o=n(16),i=n(17),a=n(45),c=n(4),l=n(1),u=n(18),h=n(19),p=n(20),f=n(8).DOMMatrix,d=n(8).DOMPoint;e.exports={Canvas:r,Context2d:o,CanvasRenderingContext2D:o,CanvasGradient:c.CanvasGradient,CanvasPattern:c.CanvasPattern,Image:s,ImageData:c.ImageData,PNGStream:u,PDFStream:h,JPEGStream:p,DOMMatrix:f,DOMPoint:d,registerFont:function(e,t){return r._registerFont(l.realpathSync(e),t)},parseFont:i,createCanvas:function(e,t,n){return new r(e,t,n)},createImageData:function(e,t,n){return new c.ImageData(e,t,n)},loadImage:function(e){return new Promise((t,n)=>{const r=new s;function o(){r.onload=null,r.onerror=null}r.onload=()=>{o(),t(r)},r.onerror=e=>{o(),n(e)},r.src=e})},backends:c.Backends,version:a.version,cairoVersion:c.cairoVersion,jpegVersion:c.jpegVersion,gifVersion:c.gifVersion?c.gifVersion.replace(/[^.\d]/g,""):void 0,freetypeVersion:c.freetypeVersion}},function(e,t,n){"use strict";const r=n(2);function s(e,t,n,r){if(!(this instanceof s))throw new TypeError("Class constructors cannot be invoked without 'new'");"object"==typeof e&&(r=e.w,n=e.z,t=e.y,e=e.x),this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0,this.w="number"==typeof r?r:1}const o=180/Math.PI,i=Math.PI/180;function a(e){var t=e.split(/\(/,1)[0];switch(t){case"matrix":return function(e){var t=e.replace(/matrix\(/,"");if(6!==(t=t.split(/,/,7)).length)throw new Error("Failed to parse "+e);return[(t=t.map(parseFloat))[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}(e);case"matrix3d":return function(e){var t=e.replace(/matrix3d\(/,"");if(16!==(t=t.split(/,/,17)).length)throw new Error("Failed to parse "+e);return t.map(parseFloat)}(e);default:throw new Error(t+" parsing not implemented")}}function c(e){if(!(this instanceof c))throw new TypeError("Class constructors cannot be invoked without 'new'");var t;if(this._is2D=!0,this._values=new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),"string"==typeof e){if(""===e)return;var n=e.split(/\)\s+/,20).map(a);if(0===n.length)return;for(e=n[0],t=1;t<n.length;t++)e=p(n[t],e)}if(t=0,e&&6===e.length)l(this,0,e[t++]),l(this,1,e[t++]),l(this,4,e[t++]),l(this,5,e[t++]),l(this,12,e[t++]),l(this,13,e[t++]);else if(e&&16===e.length)l(this,0,e[t++]),l(this,1,e[t++]),u(this,2,e[t++]),u(this,3,e[t++]),l(this,4,e[t++]),l(this,5,e[t++]),u(this,6,e[t++]),u(this,7,e[t++]),u(this,8,e[t++]),u(this,9,e[t++]),u(this,10,e[t++]),u(this,11,e[t++]),l(this,12,e[t++]),l(this,13,e[t++]),u(this,14,e[t++]),u(this,15,e[t]);else if(void 0!==e)throw new TypeError("Expected string or array.")}function l(e,t,n){if("number"!=typeof n)throw new TypeError("Expected number");return e._values[t]=n}function u(e,t,n){if("number"!=typeof n)throw new TypeError("Expected number");return 10===t||15===t?1!==n&&(e._is2D=!1):0!==n&&(e._is2D=!1),e._values[t]=n}function h(e){var t=Object.create(c.prototype);return t.constructor=c,t._is2D=!0,t._values=e,t}function p(e,t){for(var n=new Float64Array(16),r=0;r<4;r++)for(var s=0;s<4;s++){for(var o=0,i=0;i<4;i++)o+=e[4*r+i]*t[4*i+s];n[4*r+s]=o}return n}c.fromMatrix=function(e){if(!(e instanceof c))throw new TypeError("Expected DOMMatrix");return new c(e._values)},c.fromFloat32Array=function(e){if(!(e instanceof Float32Array))throw new TypeError("Expected Float32Array");return new c(e)},c.fromFloat64Array=function(e){if(!(e instanceof Float64Array))throw new TypeError("Expected Float64Array");return new c(e)},c.prototype[r.inspect.custom||"inspect"]=function(e,t){return e<0?"[DOMMatrix]":`DOMMatrix [\n    a: ${this.a}\n    b: ${this.b}\n    c: ${this.c}\n    d: ${this.d}\n    e: ${this.e}\n    f: ${this.f}\n    m11: ${this.m11}\n    m12: ${this.m12}\n    m13: ${this.m13}\n    m14: ${this.m14}\n    m21: ${this.m21}\n    m22: ${this.m22}\n    m23: ${this.m23}\n    m23: ${this.m23}\n    m31: ${this.m31}\n    m32: ${this.m32}\n    m33: ${this.m33}\n    m34: ${this.m34}\n    m41: ${this.m41}\n    m42: ${this.m42}\n    m43: ${this.m43}\n    m44: ${this.m44}\n    is2D: ${this.is2D}\n    isIdentity: ${this.isIdentity} ]`},c.prototype.toString=function(){return this.is2D?`matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.e}, ${this.f})`:`matrix3d(${this._values.join(", ")})`},Object.defineProperties(c.prototype,{m11:{get:function(){return this._values[0]},set:function(e){return l(this,0,e)}},m12:{get:function(){return this._values[1]},set:function(e){return l(this,1,e)}},m13:{get:function(){return this._values[2]},set:function(e){return u(this,2,e)}},m14:{get:function(){return this._values[3]},set:function(e){return u(this,3,e)}},m21:{get:function(){return this._values[4]},set:function(e){return l(this,4,e)}},m22:{get:function(){return this._values[5]},set:function(e){return l(this,5,e)}},m23:{get:function(){return this._values[6]},set:function(e){return u(this,6,e)}},m24:{get:function(){return this._values[7]},set:function(e){return u(this,7,e)}},m31:{get:function(){return this._values[8]},set:function(e){return u(this,8,e)}},m32:{get:function(){return this._values[9]},set:function(e){return u(this,9,e)}},m33:{get:function(){return this._values[10]},set:function(e){return u(this,10,e)}},m34:{get:function(){return this._values[11]},set:function(e){return u(this,11,e)}},m41:{get:function(){return this._values[12]},set:function(e){return l(this,12,e)}},m42:{get:function(){return this._values[13]},set:function(e){return l(this,13,e)}},m43:{get:function(){return this._values[14]},set:function(e){return u(this,14,e)}},m44:{get:function(){return this._values[15]},set:function(e){return u(this,15,e)}},a:{get:function(){return this.m11},set:function(e){return this.m11=e}},b:{get:function(){return this.m12},set:function(e){return this.m12=e}},c:{get:function(){return this.m21},set:function(e){return this.m21=e}},d:{get:function(){return this.m22},set:function(e){return this.m22=e}},e:{get:function(){return this.m41},set:function(e){return this.m41=e}},f:{get:function(){return this.m42},set:function(e){return this.m42=e}},is2D:{get:function(){return this._is2D}},isIdentity:{get:function(){var e=this._values;return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]}}}),c.prototype.multiply=function(e){return h(this._values).multiplySelf(e)},c.prototype.multiplySelf=function(e){return this._values=p(e._values,this._values),e.is2D||(this._is2D=!1),this},c.prototype.preMultiplySelf=function(e){return this._values=p(this._values,e._values),e.is2D||(this._is2D=!1),this},c.prototype.translate=function(e,t,n){return h(this._values).translateSelf(e,t,n)},c.prototype.translateSelf=function(e,t,n){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),this._values=p([1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1],this._values),0!==n&&(this._is2D=!1),this},c.prototype.scale=function(e,t,n,r,s,o){return h(this._values).scaleSelf(e,t,n,r,s,o)},c.prototype.scale3d=function(e,t,n,r){return h(this._values).scale3dSelf(e,t,n,r)},c.prototype.scale3dSelf=function(e,t,n,r){return this.scaleSelf(e,e,e,t,n,r)},c.prototype.scaleSelf=function(e,t,n,r,s,o){return"number"!=typeof r&&(r=0),"number"!=typeof s&&(s=0),"number"!=typeof o&&(o=0),this.translateSelf(r,s,o),"number"!=typeof e&&(e=1),"number"!=typeof t&&(t=e),"number"!=typeof n&&(n=1),this._values=p([e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1],this._values),this.translateSelf(-r,-s,-o),1===n&&0===o||(this._is2D=!1),this},c.prototype.rotateFromVector=function(e,t){return h(this._values).rotateFromVectorSelf(e,t)},c.prototype.rotateFromVectorSelf=function(e,t){"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0);var n=0===e&&0===t?0:Math.atan2(t,e)*o;return this.rotateSelf(n)},c.prototype.rotate=function(e,t,n){return h(this._values).rotateSelf(e,t,n)},c.prototype.rotateSelf=function(e,t,n){var r,s;return void 0===t&&void 0===n&&(n=e,e=t=0),"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0),0===e&&0===t||(this._is2D=!1),e*=i,t*=i,n*=i,r=Math.cos(n),s=Math.sin(n),this._values=p([r,s,0,0,-s,r,0,0,0,0,1,0,0,0,0,1],this._values),r=Math.cos(t),s=Math.sin(t),this._values=p([r,0,-s,0,0,1,0,0,s,0,r,0,0,0,0,1],this._values),r=Math.cos(e),s=Math.sin(e),this._values=p([1,0,0,0,0,r,s,0,0,-s,r,0,0,0,0,1],this._values),this},c.prototype.rotateAxisAngle=function(e,t,n,r){return h(this._values).rotateAxisAngleSelf(e,t,n,r)},c.prototype.rotateAxisAngleSelf=function(e,t,n,r){"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0);var s=Math.sqrt(e*e+t*t+n*n);if(0===s)return this;1!==s&&(e/=s,t/=s,n/=s),r*=i;var o=Math.cos(r),a=Math.sin(r),c=1-o,l=c*e,u=c*t;return this._values=p([l*e+o,l*t+a*n,l*n-a*t,0,l*t-a*n,u*t+o,u*n+a*e,0,l*n+a*t,u*n-a*e,c*n*n+o,0,0,0,0,1],this._values),0===e&&0===t||(this._is2D=!1),this},c.prototype.skewX=function(e){return h(this._values).skewXSelf(e)},c.prototype.skewXSelf=function(e){if("number"!=typeof e)return this;var t=Math.tan(e*i);return this._values=p([1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1],this._values),this},c.prototype.skewY=function(e){return h(this._values).skewYSelf(e)},c.prototype.skewYSelf=function(e){if("number"!=typeof e)return this;var t=Math.tan(e*i);return this._values=p([1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._values),this},c.prototype.flipX=function(){return h(p([-1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._values))},c.prototype.flipY=function(){return h(p([1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],this._values))},c.prototype.inverse=function(){return h(this._values).invertSelf()},c.prototype.invertSelf=function(){throw new Error("Not implemented")},c.prototype.setMatrixValue=function(e){var t=new c(e);return this._values=t._values,this._is2D=t._is2D,this},c.prototype.transformPoint=function(e){var t=(e=new s(e)).x,n=e.y,r=e.z,o=e.w,i=this._values;return new s(i[0]*t+i[4]*n+i[8]*r+i[12]*o,i[1]*t+i[5]*n+i[9]*r+i[13]*o,i[2]*t+i[6]*n+i[10]*r+i[14]*o,i[3]*t+i[7]*n+i[11]*r+i[15]*o)},c.prototype.toFloat32Array=function(){return Float32Array.from(this._values)},c.prototype.toFloat64Array=function(){return this._values.slice(0)},e.exports={DOMMatrix:c,DOMPoint:s}},function(e,t,n){"use strict";e.exports=function(e,t,n){try{let o=0,c={demanded:[],optional:[]};"object"==typeof e?(n=t,t=e):c=r.parseCommand("cmd "+e);const l=[].slice.call(t);for(;l.length&&void 0===l[l.length-1];)l.pop();if((n=n||l.length)<c.demanded.length)throw new s(`Not enough arguments provided. Expected ${c.demanded.length} but received ${l.length}.`);const u=c.demanded.length+c.optional.length;if(n>u)throw new s(`Too many arguments provided. Expected max ${u} but received ${n}.`);c.demanded.forEach(e=>{const t=i(l.shift());0===e.cmd.filter(e=>e===t||"*"===e).length&&a(t,e.cmd,o,!1),o+=1}),c.optional.forEach(e=>{if(0===l.length)return;const t=i(l.shift());0===e.cmd.filter(e=>e===t||"*"===e).length&&a(t,e.cmd,o,!0),o+=1})}catch(e){console.warn(e.stack)}};const r=n(24)(),s=n(6),o=["first","second","third","fourth","fifth","sixth"];function i(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function a(e,t,n,r){throw new s(`Invalid ${o[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}},function(e,t,n){"use strict";var r=n(11),s=n(58),o=n(59);e.exports=function(e){if("string"!=typeof e||0===e.length)return 0;var t=0;e=r(e);for(var n=0;n<e.length;n++){var i=s(e,n);i<=31||i>=127&&i<=159||(i>=65536&&n++,o(i)?t+=2:t++)}return t}},function(e,t,n){"use strict";var r=n(57)();e.exports=function(e){return"string"==typeof e?e.replace(r,""):e}},function(e,t,n){"use strict";e.exports=function(e,t){const n={};return t=t||((e,t)=>!0),Object.keys(e||{}).forEach(r=>{t(r,e[r])&&(n[r]=e[r])}),n}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=13},function(e,t,n){!function(){"use strict";var t=n(1),r=n(46).EventEmitter;function s(e,t,n){"function"==typeof e&&e.apply(n,t)}e.exports=function(){var e,n=this,o=new r;function i(i,a,c){if(!(e=i)||!e.name||!(e.path||e.stream||e.buffer))throw new Error("cannot read as File: "+JSON.stringify(e));0===n.readyState?process.nextTick((function(){n.readyState=n.LOADING,o.emit("loadstart"),function(){var s=new r,o=n.nodeChunkedEncoding;if(!e.size&&o&&e.path&&t.stat(e.path,(function(t,n){e.size=n.size,e.lastModifiedDate=n.mtime})),!e.stream){if(e.buffer)return process.nextTick((function(){s.emit("data",e.buffer),s.emit("end")})),void(e.stream=s);if(e.path){if(!o)return t.readFile(e.path,(function(e,t){e&&s.emit("error",e),t&&(s.emit("data",t),s.emit("end"))})),void(e.stream=s);e.stream=t.createReadStream(e.path)}}}(),function(t,r){var s=e.stream,i=[];n.nodeChunkedEncoding,i.dataLength=0,s.on("error",(function(e){n.DONE!==n.readyState&&(n.readyState=n.DONE,n.error=e,o.emit("error",e))})),s.on("data",(function(t){n.DONE!==n.readyState&&(i.dataLength+=t.length,i.push(t),o.emit("progress",{lengthComputable:!isNaN(e.size),loaded:i.dataLength,total:e.size}),o.emit("data",t))})),s.on("end",(function(){var s;n.DONE!==n.readyState&&(s=i.length>1?Buffer.concat(i):i[0],n.readyState=n.DONE,n.result=function(e,t,n,r){switch(n){case"buffer":return t;case"binary":return t.toString("binary");case"dataUrl":return function(e,t){var n="data:";return t&&(n+=t+";"),/text/i.test(t)?(n+="charset=utf-8,",n+=e.toString("utf8")):(n+="base64,",n+=e.toString("base64")),n}(t,e.type);case"text":return t.toString(r||"utf8")}}(e,s,t,r),o.emit("load",{target:{nodeBufferResult:s,result:n.result}}),o.emit("loadend"))}))}(a,c),o.on("start",(function(){s(n.onloadstart,arguments)})),o.on("progress",(function(){s(n.onprogress,arguments)})),o.on("error",(function(e){if(n.onerror)n.onerror(e);else if(!o.listeners.error||!o.listeners.error.length)throw e})),o.on("load",(function(){s(n.onload,arguments)})),o.on("end",(function(){s(n.onloadend,arguments)})),o.on("abort",(function(){s(n.onabort,arguments)}))})):console.log("already loading, request to change format ignored")}n.addEventListener=function(e,t){o.on(e,t)},n.removeEventListener=function(e){o.removeListener(e)},n.dispatchEvent=function(e){o.emit(e)},n.EMPTY=0,n.LOADING=1,n.DONE=2,n.error=void 0,n.readyState=n.EMPTY,n.result=void 0,n.on=function(){o.on.apply(o,arguments)},n.nodeChunkedEncoding=!1,n.setNodeChunkedEncoding=function(e){n.nodeChunkedEncoding=e},o.on("abort",(function(){n.readyState=n.DONE})),n.abort=function(){n.readState!=n.DONE&&(n.readyState=n.DONE,o.emit("abort"))},n.readAsArrayBuffer=function(e){i(e,"buffer")},n.readAsBinaryString=function(e){i(e,"binary")},n.readAsDataURL=function(e){i(e,"dataUrl")},n.readAsText=function(e,t){i(e,"text",t)}}}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";
/*!
 * Canvas - Context2d
 * Copyright (c) 2010 LearnBoost <tj@learnboost.com>
 * MIT Licensed
 */const r=n(4),s=n(17),{DOMMatrix:o}=n(8);r.CanvasRenderingContext2dInit(o,s),e.exports=r.CanvasRenderingContext2d},function(e,t,n){"use strict";const r="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",s=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),o=new RegExp("(italic|oblique) +","i"),i=new RegExp("(small-caps) +","i"),a=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),c=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+r+")( *, *(?:"+r+"))*)"),l={};e.exports=function(e){if(l[e])return l[e];const t=c.exec(e);if(!t)return;const n={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let r,u,h,p,f=e.substring(0,t.index);switch((r=s.exec(f))&&(n.weight=r[1]),(u=o.exec(f))&&(n.style=u[1]),(h=i.exec(f))&&(n.variant=h[1]),(p=a.exec(f))&&(n.stretch=p[1]),n.unit){case"pt":n.size/=.75;break;case"pc":n.size*=16;break;case"in":n.size*=96;break;case"cm":n.size*=96/2.54;break;case"mm":n.size*=96/25.4;break;case"%":break;case"em":case"rem":n.size*=16/.75;break;case"q":n.size*=96/25.4/4}return l[e]=n}},function(e,t,n){"use strict";
/*!
 * Canvas - PNGStream
 * Copyright (c) 2010 LearnBoost <tj@learnboost.com>
 * MIT Licensed
 */var r=n(5).Readable,s=n(2),o=e.exports=function e(t,n){if(!(this instanceof e))throw new TypeError("Class constructors cannot be invoked without 'new'");if(r.call(this),n&&n.palette instanceof Uint8ClampedArray&&n.palette.length%4!=0)throw new Error("Palette length must be a multiple of 4.");this.canvas=t,this.options=n||{}};function i(){}s.inherits(o,r),o.prototype._read=function(){this._read=i;var e=this;e.canvas.streamPNGSync((function(t,n,r){t?e.emit("error",t):r?e.push(n):e.push(null)}),e.options)}},function(e,t,n){"use strict";
/*!
 * Canvas - PDFStream
 */var r=n(5).Readable,s=n(2),o=e.exports=function e(t,n){if(!(this instanceof e))throw new TypeError("Class constructors cannot be invoked without 'new'");r.call(this),this.canvas=t,this.options=n};function i(){}s.inherits(o,r),o.prototype._read=function(){this._read=i;var e=this;e.canvas.streamPDFSync((function(t,n,r){t?e.emit("error",t):r?e.push(n):e.push(null)}),this.options)}},function(e,t,n){"use strict";
/*!
 * Canvas - JPEGStream
 * Copyright (c) 2010 LearnBoost <tj@learnboost.com>
 * MIT Licensed
 */var r=n(5).Readable,s=n(2),o=e.exports=function e(t,n){if(!(this instanceof e))throw new TypeError("Class constructors cannot be invoked without 'new'");if(void 0===t.streamJPEGSync)throw new Error("node-canvas was built without JPEG support.");r.call(this),this.options=n,this.canvas=t};function i(){}s.inherits(o,r),o.prototype._read=function(){this._read=i;var e=this;e.canvas.streamJPEGSync(this.options,(function(t,n){t?e.emit("error",t):n?e.push(n):e.push(null)}))}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";const r=n(2).inspect,s=n(25),{applyMiddleware:o,commandMiddlewareFactory:i}=n(26),a=n(0),c=n(27),l=/(^\*)|(^\$0)/;e.exports=function(e,t,u,h){const p={};let f,d={},g={};function m(e){return!e.getUsageInstance().getUsageDisabled()&&0===e.getUsageInstance().getUsage().length}function y(e,t){const n=l.test(t.original)?t.original.replace(l,"").trim():t.original,r=e.filter(e=>!l.test(e));return r.push(n),"$0 "+r.join(" ")}function b(e,t,n,r){const s=e.cmd[0];e.variadic?n[s]=t._.splice(0).map(String):t._.length&&(n[s]=[String(t._.shift())])}function _(t,n,r){const s=Object.assign({},e.getOptions());s.default=Object.assign(r.default,s.default),s.alias=Object.assign(r.alias,s.alias),s.array=s.array.concat(r.array),delete s.config;const o=[];if(Object.keys(n).forEach(e=>{n[e].map(t=>{s.configuration["unknown-options-as-args"]&&(s.key[e]=!0),o.push("--"+e),o.push(t)})}),!o.length)return;const i=Object.assign({},s.configuration,{"populate--":!0}),a=c.detailed(o,Object.assign({},s,{configuration:i}));if(a.error)e.getUsageInstance().fail(a.error.message,a.error);else{const e=Object.keys(n);Object.keys(n).forEach(t=>{[].push.apply(e,a.aliases[t])}),Object.keys(a.argv).forEach(r=>{-1!==e.indexOf(r)&&(n[r]||(n[r]=a.argv[r]),t[r]=a.argv[r])})}}h=h||[],p.addHandler=function(e,s,o,c,u){let h=[];const m=i(u);if(c=c||(()=>{}),Array.isArray(e))h=e.slice(1),e=e[0];else if("object"==typeof e){let t=Array.isArray(e.command)||"string"==typeof e.command?e.command:function(e){const t=n(53)(e);if(!t)throw new Error("No command name given for module: "+r(e));return s=t.filename,a.basename(s,a.extname(s));var s}(e);return e.aliases&&(t=[].concat(t).concat(e.aliases)),void p.addHandler(t,function(e){for(let t,n=["describe","description","desc"],r=0,s=n.length;r<s;r++)if(t=e[n[r]],"string"==typeof t||"boolean"==typeof t)return t;return!1}(e),e.builder,e.handler,e.middlewares)}if("object"==typeof o&&o.builder&&"function"==typeof o.handler)return void p.addHandler([e].concat(h),s,o.builder,o.handler,o.middlewares);const y=p.parseCommand(e);h=h.map(e=>p.parseCommand(e).cmd);let b=!1;const _=[y.cmd].concat(h).filter(e=>!l.test(e)||(b=!0,!1));0===_.length&&b&&_.push("$0"),b&&(y.cmd=_[0],h=_.slice(1),e=e.replace(l,y.cmd)),h.forEach(e=>{g[e]=y.cmd}),!1!==s&&t.command(e,s,b,h),d[y.cmd]={original:e,description:s,handler:c,builder:o||{},middlewares:m,demanded:y.demanded,optional:y.optional},b&&(f=d[y.cmd])},p.addDirectory=function(e,t,r,s,o){"boolean"!=typeof(o=o||{}).recurse&&(o.recurse=!1),Array.isArray(o.extensions)||(o.extensions=["js"]);const i="function"==typeof o.visit?o.visit:e=>e;o.visit=function(e,n,r){const s=i(e,n,r);if(s){if(~t.files.indexOf(n))return s;t.files.push(n),p.addHandler(s)}return s},n(52)({require:r,filename:s},e,o)},p.parseCommand=function(e){const t=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r={cmd:t.shift().replace(n,""),demanded:[],optional:[]};return t.forEach((e,s)=>{let o=!1;e=e.replace(/\s/g,""),/\.+[\]>]/.test(e)&&s===t.length-1&&(o=!0),/^\[/.test(e)?r.optional.push({cmd:e.replace(n,"").split("|"),variadic:o}):r.demanded.push({cmd:e.replace(n,"").split("|"),variadic:o})}),r},p.getCommands=()=>Object.keys(d).concat(Object.keys(g)),p.getCommandHandlers=()=>d,p.hasDefaultCommand=()=>!!f,p.runCommand=function(e,t,n,r){let i=n.aliases;const a=d[e]||d[g[e]]||f,c=t.getContext();let l=c.files.length;const v=c.commands.slice();let x=n.argv,w=null,O={};e&&(c.commands.push(e),c.fullCommands.push(a.original)),"function"==typeof a.builder?(w=a.builder(t.reset(n.aliases)),w&&"function"==typeof w._parseArgs||(w=t),m(w)&&w.getUsageInstance().usage(y(v,a),a.description),x=w._parseArgs(null,null,!0,r),i=w.parsed.aliases):"object"==typeof a.builder&&(w=t.reset(n.aliases),m(w)&&w.getUsageInstance().usage(y(v,a),a.description),Object.keys(a.builder).forEach(e=>{w.option(e,a.builder[e])}),x=w._parseArgs(null,null,!0,r),i=w.parsed.aliases),t._hasOutput()||(O=function(e,t,n,r){t._=t._.slice(n.commands.length);const s=e.demanded.slice(0),o=e.optional.slice(0),i={};u.positionalCount(s.length,t._.length);for(;s.length;){b(s.shift(),t,i)}for(;o.length;){b(o.shift(),t,i)}return t._=n.commands.concat(t._),_(t,i,p.cmdToParseOptions(e.original)),i}(a,x,c));const E=h.slice(0).concat(a.middlewares);if(o(x,t,E,!0),t._hasOutput()||t._runValidation(x,i,O,t.parsed.error),a.handler&&!t._hasOutput()){t._setHasOutput();let e;!!t.getOptions().configuration["populate--"]||t._copyDoubleDash(x),x=o(x,t,E,!1),e=s(x)?x.then(e=>a.handler(e)):a.handler(x);const n=t.getHandlerFinishCommand();s(e)?(t.getUsageInstance().cacheHelpMessage(),e.then(e=>{n&&n(e)}).catch(e=>{try{t.getUsageInstance().fail(null,e)}catch(e){}}).then(()=>{t.getUsageInstance().clearCachedHelpMessage()})):n&&n(e)}return e&&(c.commands.pop(),c.fullCommands.pop()),l=c.files.length-l,l>0&&c.files.splice(-1*l,l),x},p.runDefaultBuilderOn=function(e){if(m(e)){const t=l.test(f.original)?f.original:f.original.replace(/^[^[\]<>]*/,"$0 ");e.getUsageInstance().usage(t,f.description)}const t=f.builder;"function"==typeof t?t(e):Object.keys(t).forEach(n=>{e.option(n,t[n])})},p.cmdToParseOptions=function(e){const t={array:[],default:{},alias:{},demand:{}},n=p.parseCommand(e);return n.demanded.forEach(e=>{const n=e.cmd.slice(0),r=n.shift();e.variadic&&(t.array.push(r),t.default[r]=[]),n.forEach(e=>{t.alias[r]=e}),t.demand[r]=!0}),n.optional.forEach(e=>{const n=e.cmd.slice(0),r=n.shift();e.variadic&&(t.array.push(r),t.default[r]=[]),n.forEach(e=>{t.alias[r]=e})}),t},p.reset=()=>(d={},g={},f=void 0,p);const v=[];return p.freeze=()=>{const e={};v.push(e),e.handlers=d,e.aliasMap=g,e.defaultCommand=f},p.unfreeze=()=>{const e=v.pop();d=e.handlers,g=e.aliasMap,f=e.defaultCommand},p}},function(e,t){e.exports=function(e){return!!e&&!!e.then&&"function"==typeof e.then}},function(e,t,n){"use strict";e.exports={applyMiddleware:function(e,t,n,s){const o=new Error("middleware cannot return a promise when applyBeforeValidation is true");return n.reduce((n,i)=>{if(i.applyBeforeValidation!==s)return n;if(r(n))return n.then(e=>Promise.all([e,i(e,t)])).then(([e,t])=>Object.assign(e,t));{const a=i(e,t);if(s&&r(a))throw o;return r(a)?a.then(e=>Object.assign(n,e)):Object.assign(n,a)}},e)},commandMiddlewareFactory:function(e){return e?e.map(e=>(e.applyBeforeValidation=!1,e)):[]},globalMiddlewareFactory:function(e,t){return function(n,r=!1){if(s("<array|function> [boolean]",[n,r],arguments.length),Array.isArray(n)){for(let e=0;e<n.length;e++){if("function"!=typeof n[e])throw Error("middleware must be a function");n[e].applyBeforeValidation=r}Array.prototype.push.apply(e,n)}else"function"==typeof n&&(n.applyBeforeValidation=r,e.push(n));return t}}};const r=n(25),s=n(9)},function(e,t,n){const r=n(49),s=n(28),o=n(0),i=n(50),a=n(2);function c(e,t){t=Object.assign(Object.create(null),t),e=i(e);const c=function(e){const t=[],n=Object.create(null);let r=!0;Object.keys(e).forEach((function(n){t.push([].concat(e[n],n))}));for(;r;){r=!1;for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++){if(t[e].filter((function(e){return-1!==t[n].indexOf(e)})).length){t[e]=t[e].concat(t[n]),t.splice(n,1),r=!0;break}}}return t.forEach((function(e){e=e.filter((function(e,t,n){return n.indexOf(e)===t})),n[e.pop()]=e})),n}(Object.assign(Object.create(null),t.alias)),u=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},t.configuration),p=Object.assign(Object.create(null),t.default),f=t.configObjects||[],d=t.envPrefix,g=u["populate--"],m=g?"--":"_",y=Object.create(null),b=Object.create(null),_=t.__||a.format,v={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},x=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,w=new RegExp("^--"+u["negation-prefix"]+"(.+)");[].concat(t.array).filter(Boolean).forEach((function(e){const t=e.key||e,n=Object.keys(e).map((function(e){return{boolean:"bools",string:"strings",number:"numbers"}[e]})).filter(Boolean).pop();n&&(v[n][t]=!0),v.arrays[t]=!0,v.keys.push(t)})),[].concat(t.boolean).filter(Boolean).forEach((function(e){v.bools[e]=!0,v.keys.push(e)})),[].concat(t.string).filter(Boolean).forEach((function(e){v.strings[e]=!0,v.keys.push(e)})),[].concat(t.number).filter(Boolean).forEach((function(e){v.numbers[e]=!0,v.keys.push(e)})),[].concat(t.count).filter(Boolean).forEach((function(e){v.counts[e]=!0,v.keys.push(e)})),[].concat(t.normalize).filter(Boolean).forEach((function(e){v.normalize[e]=!0,v.keys.push(e)})),Object.keys(t.narg||{}).forEach((function(e){v.nargs[e]=t.narg[e],v.keys.push(e)})),Object.keys(t.coerce||{}).forEach((function(e){v.coercions[e]=t.coerce[e],v.keys.push(e)})),Array.isArray(t.config)||"string"==typeof t.config?[].concat(t.config).filter(Boolean).forEach((function(e){v.configs[e]=!0})):Object.keys(t.config||{}).forEach((function(e){v.configs[e]=t.config[e]})),function(...e){e.forEach((function(e){Object.keys(e||{}).forEach((function(e){v.aliases[e]||(v.aliases[e]=[].concat(c[e]||[]),v.aliases[e].concat(e).forEach((function(t){if(/-/.test(t)&&u["camel-case-expansion"]){const n=r(t);n!==e&&-1===v.aliases[e].indexOf(n)&&(v.aliases[e].push(n),y[n]=!0)}})),v.aliases[e].concat(e).forEach((function(t){if(t.length>1&&/[A-Z]/.test(t)&&u["camel-case-expansion"]){const n=s(t,"-");n!==e&&-1===v.aliases[e].indexOf(n)&&(v.aliases[e].push(n),y[n]=!0)}})),v.aliases[e].forEach((function(t){v.aliases[t]=[e].concat(v.aliases[e].filter((function(e){return t!==e})))})))}))}))}(t.key,c,t.default,v.arrays),Object.keys(p).forEach((function(e){(v.aliases[e]||[]).forEach((function(t){p[t]=p[e]}))}));let O=null;Object.keys(v.counts).find(e=>N(e,v.arrays)?(O=Error(_("Invalid configuration: %s, opts.count excludes opts.array.",e)),!0):N(e,v.nargs)?(O=Error(_("Invalid configuration: %s, opts.count excludes opts.narg.",e)),!0):void 0);let E=[];const S=Object.assign(Object.create(null),{_:[]}),j={};for(let t=0;t<e.length;t++){const n=e[t];let r,s,o,i,a,c;if("--"!==n&&H(n))S._.push(n);else if(n.match(/^--.+=/)||!u["short-option-groups"]&&n.match(/^-.+=/))i=n.match(/^--?([^=]+)=([\s\S]*)$/),N(i[1],v.arrays)?t=C(t,i[1],e,i[2]):!1!==N(i[1],v.nargs)?t=k(t,i[1],e,i[2]):D(i[1],i[2]);else if(n.match(w)&&u["boolean-negation"])s=n.match(w)[1],D(s,!!N(s,v.arrays)&&[!1]);else if(n.match(/^--.+/)||!u["short-option-groups"]&&n.match(/^-[^-]+/))s=n.match(/^--?(.+)/)[1],N(s,v.arrays)?t=C(t,s,e):!1!==N(s,v.nargs)?t=k(t,s,e):(a=e[t+1],void 0===a||a.match(/^-/)&&!a.match(x)||N(s,v.bools)||N(s,v.counts)?/^(true|false)$/.test(a)?(D(s,a),t++):D(s,B(s)):(D(s,a),t++));else if(n.match(/^-.\..+=/))i=n.match(/^-([^=]+)=([\s\S]*)$/),D(i[1],i[2]);else if(n.match(/^-.\..+/)&&!n.match(x))a=e[t+1],s=n.match(/^-(.\..+)/)[1],void 0===a||a.match(/^-/)||N(s,v.bools)||N(s,v.counts)?D(s,B(s)):(D(s,a),t++);else if(n.match(/^-[^-]+/)&&!n.match(x)){o=n.slice(1,-1).split(""),r=!1;for(let i=0;i<o.length;i++){if(a=n.slice(i+2),o[i+1]&&"="===o[i+1]){c=n.slice(i+3),s=o[i],N(s,v.arrays)?t=C(t,s,e,c):!1!==N(s,v.nargs)?t=k(t,s,e,c):D(s,c),r=!0;break}if("-"!==a){if(/[A-Za-z]/.test(o[i])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(a)){D(o[i],a),r=!0;break}if(o[i+1]&&o[i+1].match(/\W/)){D(o[i],a),r=!0;break}D(o[i],B(o[i]))}else D(o[i],a)}s=n.slice(-1)[0],r||"-"===s||(N(s,v.arrays)?t=C(t,s,e):!1!==N(s,v.nargs)?t=k(t,s,e):(a=e[t+1],void 0===a||/^(-|--)[^-]/.test(a)&&!a.match(x)||N(s,v.bools)||N(s,v.counts)?/^(true|false)$/.test(a)?(D(s,a),t++):D(s,B(s)):(D(s,a),t++)))}else if(n.match(/^-[0-9]$/)&&n.match(x)&&N(n.slice(1),v.bools))s=n.slice(1),D(s,B(s));else{if("--"===n){E=e.slice(t+1);break}if(u["halt-at-non-option"]){E=e.slice(t);break}S._.push(P("_",n))}}function k(e,t,n,r){let s,o=N(t,v.nargs);if(o=isNaN(o)?1:o,0===o)return F(r)||(O=Error(_("Argument unexpected for: %s",t))),D(t,B(t)),e;let i=F(r)?0:1;if(u["nargs-eats-options"])n.length-(e+1)+i<o&&(O=Error(_("Not enough arguments following: %s",t))),i=o;else{for(s=e+1;s<n.length&&(!n[s].match(/^-[^0-9]/)||n[s].match(x)||H(n[s]));s++)i++;i<o&&(O=Error(_("Not enough arguments following: %s",t)))}let a=Math.min(i,o);for(!F(r)&&a>0&&(D(t,r),a--),s=e+1;s<a+e+1;s++)D(t,n[s]);return e+a}function C(e,t,n,r){let s=[],o=r||n[e+1];const i=N(t,v.nargs);if(N(t,v.bools)&&!/^(true|false)$/.test(o))s.push(!0);else if(F(o)||F(r)&&/^-/.test(o)&&!x.test(o)&&!H(o)){if(void 0!==p[t]){const e=p[t];s=Array.isArray(e)?e:[e]}}else{F(r)||s.push(A(t,r));for(let r=e+1;r<n.length&&!(!u["greedy-arrays"]&&s.length>0||i&&s.length>=i)&&(o=n[r],!/^-/.test(o)||x.test(o)||H(o));r++)e=r,s.push(A(t,o))}return(i&&s.length<i||isNaN(i)&&0===s.length)&&(O=Error(_("Not enough arguments following: %s",t))),D(t,s),e}function D(e,t){if(/-/.test(e)&&u["camel-case-expansion"]){const t=e.split(".").map((function(e){return r(e)})).join(".");!function e(t,n){v.aliases[t]&&v.aliases[t].length||(v.aliases[t]=[n],y[n]=!0);v.aliases[n]&&v.aliases[n].length||e(n,t)}(e,t)}const n=A(e,t),s=e.split(".");if(T(S,s,n),v.aliases[e]&&v.aliases[e].forEach((function(e){e=e.split("."),T(S,e,n)})),s.length>1&&u["dot-notation"]&&(v.aliases[s[0]]||[]).forEach((function(t){t=t.split(".");const r=[].concat(s);r.shift(),t=t.concat(r),(v.aliases[e]||[]).includes(t.join("."))||T(S,t,n)})),N(e,v.normalize)&&!N(e,v.arrays)){[e].concat(v.aliases[e]||[]).forEach((function(e){Object.defineProperty(j,e,{enumerable:!0,get:()=>t,set(e){t="string"==typeof e?o.normalize(e):e}})}))}}function A(e,t){"string"!=typeof t||"'"!==t[0]&&'"'!==t[0]||t[t.length-1]!==t[0]||(t=t.substring(1,t.length-1)),(N(e,v.bools)||N(e,v.counts))&&"string"==typeof t&&(t="true"===t);let n=Array.isArray(t)?t.map((function(t){return P(e,t)})):P(e,t);return N(e,v.counts)&&(F(n)||"boolean"==typeof n)&&(n=l),N(e,v.normalize)&&N(e,v.arrays)&&(n=Array.isArray(t)?t.map(o.normalize):o.normalize(t)),n}function P(e,t){if(!N(e,v.strings)&&!N(e,v.bools)&&!Array.isArray(t)){(null!=(n=t)&&("number"==typeof n||!!/^0x[0-9a-f]+$/i.test(n)||!(n.length>1&&"0"===n[0])&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n))&&u["parse-numbers"]&&Number.isSafeInteger(Math.floor(t))||!F(t)&&N(e,v.numbers))&&(t=Number(t))}var n;return t}function $(e,t){Object.keys(e).forEach((function(n){const r=e[n],s=t?t+"."+n:n;"object"==typeof r&&null!==r&&!Array.isArray(r)&&u["dot-notation"]?$(r,s):(!L(S,s.split("."))||N(s,v.arrays)&&u["combine-arrays"])&&D(s,r)}))}function M(e,t){if(void 0===d)return;const n="string"==typeof d?d:"";Object.keys(process.env).forEach((function(s){if(""===n||0===s.lastIndexOf(n,0)){const o=s.split("__").map((function(e,t){return 0===t&&(e=e.substring(n.length)),r(e)}));(t&&v.configs[o.join(".")]||!t)&&!L(e,o)&&D(o.join("."),process.env[s])}}))}function R(e,t,n,r=!1){Object.keys(n).forEach((function(s){L(e,s.split("."))||(T(e,s.split("."),n[s]),r&&(b[s]=!0),(t[s]||[]).forEach((function(t){L(e,t.split("."))||T(e,t.split("."),n[s])})))}))}function L(e,t){let n=e;u["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach((function(e){n=n[e]||{}}));const r=t[t.length-1];return"object"==typeof n&&r in n}function T(e,t,n){let r=e;u["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach((function(e,t){e=h(e),"object"==typeof r&&void 0===r[e]&&(r[e]={}),"object"!=typeof r[e]||Array.isArray(r[e])?(Array.isArray(r[e])?r[e].push({}):r[e]=[r[e],{}],r=r[e][r[e].length-1]):r=r[e]}));const s=h(t[t.length-1]),o=N(t.join("."),v.arrays),i=Array.isArray(n);let a=u["duplicate-arguments-array"];!a&&N(s,v.nargs)&&(a=!0,(!F(r[s])&&1===v.nargs[s]||Array.isArray(r[s])&&r[s].length===v.nargs[s])&&(r[s]=void 0)),n===l?r[s]=l(r[s]):Array.isArray(r[s])?a&&o&&i?r[s]=u["flatten-duplicate-arrays"]?r[s].concat(n):(Array.isArray(r[s][0])?r[s]:[r[s]]).concat([n]):a||Boolean(o)!==Boolean(i)?r[s]=r[s].concat([n]):r[s]=n:void 0===r[s]&&o?r[s]=i?n:[n]:!a||void 0===r[s]||N(s,v.counts)||N(s,v.bools)?r[s]=n:r[s]=[r[s],n]}function N(e,t){const n=[].concat(v.aliases[e]||[],e),r=Object.keys(t),s=n.find(e=>r.includes(e));return!!s&&t[s]}function z(e){return[].concat(Object.keys(v).map(e=>v[e])).some((function(t){return Array.isArray(t)?t.includes(e):t[e]}))}function H(e){return u["unknown-options-as-args"]&&function(e){if(e.match(x))return!1;if(function(e){if(e.match(x)||!e.match(/^-[^-]+/))return!1;let t,n=!0;const r=e.slice(1).split("");for(let s=0;s<r.length;s++){if(t=e.slice(s+2),!z(r[s])){n=!1;break}if(r[s+1]&&"="===r[s+1]||"-"===t||/[A-Za-z]/.test(r[s])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(t)||r[s+1]&&r[s+1].match(/\W/))break}return n}(e))return!1;return!function(e,...t){return[].concat(...t).some((function(t){const n=e.match(t);return n&&z(n[1])}))}(e,/^-+([^=]+?)=[\s\S]*$/,w,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}(e)}function B(e){return N(e,v.bools)||N(e,v.counts)||!(""+e in p)?function(e){return{boolean:!0,string:"",number:void 0,array:[]}[e]}(function(e){let t="boolean";N(e,v.strings)?t="string":N(e,v.numbers)?t="number":N(e,v.bools)?t="boolean":N(e,v.arrays)&&(t="array");return t}(e)):p[e]}function F(e){return void 0===e}return M(S,!0),M(S,!1),function(e){const t=Object.create(null);R(t,v.aliases,p),Object.keys(v.configs).forEach((function(r){const s=e[r]||t[r];if(s)try{let e=null;const t=o.resolve(process.cwd(),s);if("function"==typeof v.configs[r]){try{e=v.configs[r](t)}catch(t){e=t}if(e instanceof Error)return void(O=e)}else e=n(51)(t);$(e)}catch(t){e[r]&&(O=Error(_("Invalid JSON config file: %s",s)))}}))}(S),function(){if(void 0===f)return;f.forEach((function(e){$(e)}))}(),R(S,v.aliases,p,!0),function(e){let t;const n=new Set;Object.keys(e).forEach((function(r){if(!n.has(r)&&(t=N(r,v.coercions),"function"==typeof t))try{const s=P(r,t(e[r]));[].concat(v.aliases[r]||[],r).forEach(t=>{n.add(t),e[t]=s})}catch(e){O=e}}))}(S),u["set-placeholder-key"]&&function(e){v.keys.forEach(t=>{~t.indexOf(".")||void 0===e[t]&&(e[t]=void 0)})}(S),Object.keys(v.counts).forEach((function(e){L(S,e.split("."))||D(e,0)})),g&&E.length&&(S[m]=[]),E.forEach((function(e){S[m].push(e)})),u["camel-case-expansion"]&&u["strip-dashed"]&&Object.keys(S).filter(e=>"--"!==e&&e.includes("-")).forEach(e=>{delete S[e]}),u["strip-aliased"]&&[].concat(...Object.keys(c).map(e=>c[e])).forEach(e=>{u["camel-case-expansion"]&&delete S[e.split(".").map(e=>r(e)).join(".")],delete S[e]}),{argv:Object.assign(j,S),error:O,aliases:Object.assign({},v.aliases),newAliases:Object.assign({},y),defaulted:Object.assign({},b),configuration:u}}function l(e){return void 0!==e?e+1:1}function u(e,t){return c(e.slice(),t).argv}function h(e){return"__proto__"===e?"___proto___":e}u.detailed=function(e,t){return c(e.slice(),t)},e.exports=u},function(e,t,n){"use strict";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},function(e,t){e.exports=function(e){[process.stdout,process.stderr].forEach((function(t){t._handle&&t.isTTY&&"function"==typeof t._handle.setBlocking&&t._handle.setBlocking(e)}))}},function(e,t,n){const r=n(65),s={};for(const e of Object.keys(r))s[r[e]]=e;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const e of Object.keys(o)){if(!("channels"in o[e]))throw new Error("missing channels property: "+e);if(!("labels"in o[e]))throw new Error("missing channel labels property: "+e);if(o[e].labels.length!==o[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=o[e];delete o[e].channels,delete o[e].labels,Object.defineProperty(o[e],"channels",{value:t}),Object.defineProperty(o[e],"labels",{value:n})}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=o-s;let a,c;o===s?a=0:t===o?a=(n-r)/i:n===o?a=2+(r-t)/i:r===o&&(a=4+(t-n)/i),a=Math.min(60*a,360),a<0&&(a+=360);const l=(s+o)/2;return c=o===s?0:l<=.5?i/(o+s):i/(2-o-s),[a,100*c,100*l]},o.rgb.hsv=function(e){let t,n,r,s,o;const i=e[0]/255,a=e[1]/255,c=e[2]/255,l=Math.max(i,a,c),u=l-Math.min(i,a,c),h=function(e){return(l-e)/6/u+.5};return 0===u?(s=0,o=0):(o=u/l,t=h(i),n=h(a),r=h(c),i===l?s=r-n:a===l?s=1/3+t-r:c===l&&(s=2/3+n-t),s<0?s+=1:s>1&&(s-=1)),[360*s,100*o,100*l]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const s=o.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[s,100*i,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(1-t,1-n,1-r);return[100*((1-t-s)/(1-s)||0),100*((1-n-s)/(1-s)||0),100*((1-r-s)/(1-s)||0),100*s]},o.rgb.keyword=function(e){const t=s[e];if(t)return t;let n,o=1/0;for(const t of Object.keys(r)){const s=r[t],c=(a=s,((i=e)[0]-a[0])**2+(i[1]-a[1])**2+(i[2]-a[2])**2);c<o&&(o=c,n=t)}var i,a;return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],r=t[1],s=t[2];n/=95.047,r/=100,s/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*r-16,500*(n-r),200*(r-s)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let s,o,i;if(0===n)return i=255*r,[i,i,i];s=r<.5?r*(1+n):r+n-r*n;const a=2*r-s,c=[0,0,0];for(let e=0;e<3;e++)o=t+1/3*-(e-1),o<0&&o++,o>1&&o--,i=6*o<1?a+6*(s-a)*o:2*o<1?s:3*o<2?a+(s-a)*(2/3-o)*6:a,c[e]=255*i;return c},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,s=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=o<=1?o:2-o;return[t,100*(0===r?2*s/(o+s):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const s=Math.floor(t)%6,o=t-Math.floor(t),i=255*r*(1-n),a=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,s){case 0:return[r,c,i];case 1:return[a,r,i];case 2:return[i,r,c];case 3:return[i,a,r];case 4:return[c,i,r];case 5:return[r,i,a]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,s=Math.max(r,.01);let o,i;i=(2-n)*r;const a=(2-n)*s;return o=n*s,o/=a<=1?a:2-a,o=o||0,i/=2,[t,100*o,100*i]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const s=n+r;let o;s>1&&(n/=s,r/=s);const i=Math.floor(6*t),a=1-r;o=6*t-i,0!=(1&i)&&(o=1-o);const c=n+o*(a-n);let l,u,h;switch(i){default:case 6:case 0:l=a,u=c,h=n;break;case 1:l=c,u=a,h=n;break;case 2:l=n,u=a,h=c;break;case 3:l=n,u=c,h=a;break;case 4:l=c,u=n,h=a;break;case 5:l=a,u=n,h=c}return[255*l,255*u,255*h]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,s=e[3]/100;return[255*(1-Math.min(1,t*(1-s)+s)),255*(1-Math.min(1,n*(1-s)+s)),255*(1-Math.min(1,r*(1-s)+s))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let s,o,i;return s=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,i=.0557*t+-.204*n+1.057*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),[255*s,255*o,255*i]},o.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},o.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const s=n**3,o=t**3,i=r**3;return n=s>.008856?s:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=i>.008856?i:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},o.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let s;s=360*Math.atan2(r,n)/2/Math.PI,s<0&&(s+=360);return[t,Math.sqrt(n*n+r*r),s]},o.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(e,t=null){const[n,r,s]=e;let i=null===t?o.rgb.hsv(e)[2]:t;if(i=Math.round(i/50),0===i)return 30;let a=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===i&&(a+=60),a},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),i=s-o;let a,c;return a=i<1?o/(1-i):0,c=i<=0?0:s===t?(n-r)/i%6:s===n?2+(r-t)/i:4+(t-n)/i,c/=6,c%=1,[360*c,100*i,100*a]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[e[0],100*r,100*s]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],100*r,100*s]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const s=[0,0,0],o=t%1*6,i=o%1,a=1-i;let c=0;switch(Math.floor(o)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return c=(1-n)*r,[255*(n*s[0]+c),255*(n*s[1]+c),255*(n*s[2]+c)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],100*r,100*s]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=31},function(e,t){function n(){return process.versions.electron&&!process.defaultApp?0:1}e.exports={getProcessArgvBin:function(){return process.argv[n()]},getProcessArgvWithoutBin:function(){return process.argv.slice(n()+1)}}},function(e,t,n){(function(){var t,r,s,o,i,a,c,l,u,h,p,f;c=function(){class e{constructor(){this.onloadstart=null,this.onprogress=null,this.onabort=null,this.onerror=null,this.onload=null,this.ontimeout=null,this.onloadend=null,this._listeners={}}addEventListener(e,t){var n;e=e.toLowerCase(),(n=this._listeners)[e]||(n[e]=[]),this._listeners[e].push(t)}removeEventListener(e,t){var n;e=e.toLowerCase(),this._listeners[e]&&-1!==(n=this._listeners[e].indexOf(t))&&this._listeners[e].splice(n,1)}dispatchEvent(e){var t,n,r,s,o;if(e.currentTarget=e.target=this,t=e.type,o=this._listeners[t])for(n=0,r=o.length;n<r;n++)(s=o[n]).call(this,e);(s=this["on"+t])&&s.call(this,e)}}return e.prototype.onloadstart=null,e.prototype.onprogress=null,e.prototype.onabort=null,e.prototype.onerror=null,e.prototype.onload=null,e.prototype.ontimeout=null,e.prototype.onloadend=null,e}.call(this),u=n(21),h=n(22),p=n(47),f=n(23),a=function(){class e extends c{constructor(t){super(),this.onreadystatechange=null,this._anonymous=t&&t.anon,this.readyState=e.UNSENT,this.response=null,this.responseText="",this.responseType="",this.responseURL="",this.status=0,this.statusText="",this.timeout=0,this.upload=new l(this),this._method=null,this._url=null,this._sync=!1,this._headers=null,this._loweredHeaders=null,this._mimeOverride=null,this._request=null,this._response=null,this._responseParts=null,this._responseHeaders=null,this._aborting=null,this._error=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}open(t,n,r,s,i){var a;if((t=t.toUpperCase())in this._restrictedMethods)throw new o(`HTTP method ${t} is not allowed in XHR`);switch(a=this._parseUrl(n),void 0===r&&(r=!0),this.readyState){case e.UNSENT:case e.OPENED:case e.DONE:break;case e.HEADERS_RECEIVED:case e.LOADING:}this._method=t,this._url=a,this._sync=!r,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(e.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}setRequestHeader(n,r){var s;if(this.readyState!==e.OPENED)throw new t("XHR readyState must be OPENED");s=n.toLowerCase(),this._restrictedHeaders[s]||/^sec\-/.test(s)||/^proxy-/.test(s)?console.warn(`Refused to set unsafe header "${n}"`):(r=r.toString(),s in this._loweredHeaders?(n=this._loweredHeaders[s],this._headers[n]=this._headers[n]+", "+r):(this._loweredHeaders[s]=n,this._headers[n]=r))}send(n){if(this.readyState!==e.OPENED)throw new t("XHR readyState must be OPENED");if(this._request)throw new t("send() already called");switch(this._url.protocol){case"file:":this._sendFile(n);break;case"http:":case"https:":this._sendHttp(n);break;default:throw new r("Unsupported protocol "+this._url.protocol)}}abort(){this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))}getResponseHeader(e){var t;return this._responseHeaders&&(t=e.toLowerCase())in this._responseHeaders?this._responseHeaders[t]:null}getAllResponseHeaders(){var e,t;return this._responseHeaders?function(){var n,r;for(e in r=[],n=this._responseHeaders)t=n[e],r.push(`${e}: ${t}`);return r}.call(this).join("\r\n"):""}overrideMimeType(n){if(this.readyState===e.LOADING||this.readyState===e.DONE)throw new t("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=n.toLowerCase()}nodejsSet(e){var t;if("httpAgent"in e&&(this.nodejsHttpAgent=e.httpAgent),"httpsAgent"in e&&(this.nodejsHttpsAgent=e.httpsAgent),"baseUrl"in e){if(null!==(t=e.baseUrl)&&!f.parse(t,!1,!0).protocol)throw new i("baseUrl must be an absolute URL");this.nodejsBaseUrl=t}}static nodejsSet(t){e.prototype.nodejsSet(t)}_setReadyState(e){var t;this.readyState=e,t=new s("readystatechange"),this.dispatchEvent(t)}_sendFile(){if("GET"!==this._url.method)throw new r("The file protocol only supports GET");throw new Error("Protocol file: not implemented")}_sendHttp(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");null==e||"GET"!==this._method&&"HEAD"!==this._method?e||(e=""):(console.warn(`Discarding entity body for ${this._method} requests`),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()}_sendHxxpRequest(){var e,t,n;"http:"===this._url.protocol?(t=u,e=this.nodejsHttpAgent):(t=h,e=this.nodejsHttpsAgent),n=t.request({hostname:this._url.hostname,port:this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:e}),this._request=n,this.timeout&&n.setTimeout(this.timeout,()=>this._onHttpTimeout(n)),n.on("response",e=>this._onHttpResponse(n,e)),n.on("error",e=>this._onHttpRequestError(n,e)),this.upload._startUpload(n),this._request===n&&this._dispatchProgress("loadstart")}_finalizeHeaders(){this._headers.Connection="keep-alive",this._headers.Host=this._url.host,this._anonymous&&(this._headers.Referer="about:blank"),this._headers["User-Agent"]=this._userAgent,this.upload._finalizeHeaders(this._headers,this._loweredHeaders)}_onHttpResponse(t,n){var r;if(this._request===t){switch(n.statusCode){case 301:case 302:case 303:case 307:case 308:return this._url=this._parseUrl(n.headers.location),this._method="GET","content-type"in this._loweredHeaders&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),"Content-Type"in this._headers&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest()}return this._response=n,this._response.on("data",e=>this._onHttpResponseData(n,e)),this._response.on("end",()=>this._onHttpResponseEnd(n)),this._response.on("close",()=>this._onHttpResponseClose(n)),this.responseURL=this._url.href.split("#")[0],this.status=this._response.statusCode,this.statusText=u.STATUS_CODES[this.status],this._parseResponseHeaders(n),(r=this._responseHeaders["content-length"])?(this._totalBytes=parseInt(r),this._lengthComputable=!0):this._lengthComputable=!1,this._setReadyState(e.HEADERS_RECEIVED)}}_onHttpResponseData(t,n){if(this._response===t)return this._responseParts.push(n),this._loadedBytes+=n.length,this.readyState!==e.LOADING&&this._setReadyState(e.LOADING),this._dispatchProgress("progress")}_onHttpResponseEnd(t){if(this._response===t)return this._parseResponse(),this._request=null,this._response=null,this._setReadyState(e.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend")}_onHttpResponseClose(t){var n;if(this._response===t)return n=this._request,this._setError(),n.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}_onHttpTimeout(t){if(this._request===t)return this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend")}_onHttpRequestError(t,n){if(this._request===t)return this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}_dispatchProgress(e){var t;(t=new s(e)).lengthComputable=this._lengthComputable,t.loaded=this._loadedBytes,t.total=this._totalBytes,this.dispatchEvent(t)}_setError(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null}_parseUrl(e){var t,n,r,s,o;return t=null===this.nodejsBaseUrl?e:f.resolve(this.nodejsBaseUrl,e),(o=f.parse(t,!1,!0)).hash=null,!o.auth||null==s&&null==r||(-1===(n=o.auth.indexOf(":"))?s||(s=o.auth):(s||(s=o.substring(0,n)),r||(r=o.substring(n+1)))),(s||r)&&(o.auth=`${s}:${r}`),o}_parseResponseHeaders(e){var t,n,r,s;for(n in this._responseHeaders={},r=e.headers)s=r[n],t=n.toLowerCase(),this._privateHeaders[t]||(null!==this._mimeOverride&&"content-type"===t&&(s=this._mimeOverride),this._responseHeaders[t]=s);null===this._mimeOverride||"content-type"in this._responseHeaders||(this._responseHeaders["content-type"]=this._mimeOverride)}_parseResponse(){var e,t,n,r,s,o;switch(t=Buffer.concat?Buffer.concat(this._responseParts):this._concatBuffers(this._responseParts),this._responseParts=null,this.responseType){case"text":this._parseTextResponse(t);break;case"json":this.responseText=null;try{this.response=JSON.parse(t.toString("utf-8"))}catch(e){e,this.response=null}break;case"buffer":this.responseText=null,this.response=t;break;case"arraybuffer":for(this.responseText=null,e=new ArrayBuffer(t.length),o=new Uint8Array(e),n=r=0,s=t.length;0<=s?r<s:r>s;n=0<=s?++r:--r)o[n]=t[n];this.response=e;break;default:this._parseTextResponse(t)}}_parseTextResponse(e){try{this.responseText=e.toString(this._parseResponseEncoding())}catch(t){t,this.responseText=e.toString("binary")}this.response=this.responseText}_parseResponseEncoding(){var e,t;return null,(e=this._responseHeaders["content-type"])&&(t=/\;\s*charset\=(.*)$/.exec(e))?t[1]:"utf-8"}_concatBuffers(e){var t,n,r,s,o,i,a;if(0===e.length)return Buffer.alloc(0);if(1===e.length)return e[0];for(i=0,n=0,s=e.length;n<s;n++)i+=(t=e[n]).length;for(a=Buffer.alloc(i),i=0,r=0,o=e.length;r<o;r++)(t=e[r]).copy(a,i),i+=t.length;return a}}return e.prototype.onreadystatechange=null,e.prototype.readyState=null,e.prototype.response=null,e.prototype.responseText=null,e.prototype.responseType=null,e.prototype.status=null,e.prototype.timeout=null,e.prototype.upload=null,e.prototype.UNSENT=0,e.UNSENT=0,e.prototype.OPENED=1,e.OPENED=1,e.prototype.HEADERS_RECEIVED=2,e.HEADERS_RECEIVED=2,e.prototype.LOADING=3,e.LOADING=3,e.prototype.DONE=4,e.DONE=4,e.prototype.nodejsHttpAgent=u.globalAgent,e.prototype.nodejsHttpsAgent=h.globalAgent,e.prototype.nodejsBaseUrl=null,e.prototype._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},e.prototype._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},e.prototype._privateHeaders={"set-cookie":!0,"set-cookie2":!0},e.prototype._userAgent=`Mozilla/5.0 (${p.type()} ${p.arch()}) node.js/${process.versions.node} v8/${process.versions.v8}`,e}.call(this),e.exports=a,a.XMLHttpRequest=a,o=class extends Error{constructor(){super()}},a.SecurityError=o,t=class extends Error{constructor(){super()}},t=class extends Error{},a.InvalidStateError=t,r=class extends Error{constructor(){super()}},a.SyntaxError=i,i=class extends Error{constructor(){super()}},s=function(){class e{constructor(e){this.type=e,this.target=null,this.currentTarget=null,this.lengthComputable=!1,this.loaded=0,this.total=0}}return e.prototype.bubbles=!1,e.prototype.cancelable=!1,e.prototype.target=null,e.prototype.loaded=null,e.prototype.lengthComputable=null,e.prototype.total=null,e}.call(this),a.ProgressEvent=s,l=class extends c{constructor(e){super(),this._request=e,this._reset()}_reset(){this._contentType=null,this._body=null}_setData(e){var t,n,r,s,o,i,a,c;if(null!=e)if("string"==typeof e)0!==e.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=Buffer.from(e,"utf8");else if(Buffer.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(t=Buffer.alloc(e.byteLength),c=new Uint8Array(e),n=r=0,i=e.byteLength;0<=i?r<i:r>i;n=0<=i?++r:--r)t[n]=c[n];this._body=t}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+e);for(t=Buffer.alloc(e.byteLength),o=e.byteOffset,c=new Uint8Array(e.buffer),n=s=0,a=e.byteLength;0<=a?s<a:s>a;n=0<=a?++s:--s)t[n]=c[n+o];this._body=t}}_finalizeHeaders(e,t){this._contentType&&("content-type"in t||(e["Content-Type"]=this._contentType)),this._body&&(e["Content-Length"]=this._body.length.toString())}_startUpload(e){this._body&&e.write(this._body),e.end()}},a.XMLHttpRequestUpload=l}).call(this)},function(e,t,n){"use strict";
/*!
 * Canvas
 * Copyright (c) 2010 LearnBoost <tj@learnboost.com>
 * MIT Licensed
 */const r=n(4),s=e.exports=r.Canvas,o=n(16),i=n(18),a=n(19),c=n(20),l=["image/png","image/jpeg"],u=n(2);s.prototype[u.inspect.custom||"inspect"]=function(){return`[Canvas ${this.width}x${this.height}]`},s.prototype.getContext=function(e,t){if("2d"==e){var n=this._context2d||(this._context2d=new o(this,t));return this.context=n,n.canvas=this,n}},s.prototype.pngStream=s.prototype.createPNGStream=function(e){return new i(this,e)},s.prototype.pdfStream=s.prototype.createPDFStream=function(e){return new a(this,e)},s.prototype.jpegStream=s.prototype.createJPEGStream=function(e){return new c(this,e)},s.prototype.toDataURL=function(e,t,n){var r,s="image/png",o={};if("function"==typeof e)r=e;else if("string"==typeof e&&l.includes(e.toLowerCase())&&(s=e.toLowerCase()),"function"==typeof t)r=t;else if("object"==typeof t?o=t:"number"==typeof t&&(o={quality:Math.max(0,Math.min(1,t))}),"function"==typeof n)r=n;else if(void 0!==n)throw new TypeError(typeof n+" is not a function");if(0===this.width||0===this.height){return r?void setTimeout(()=>r(null,"data:,")):"data:,"}if(!r)return`data:${s};base64,${this.toBuffer(s,o).toString("base64")}`;this.toBuffer((e,t)=>{if(e)return r(e);r(null,`data:${s};base64,${t.toString("base64")}`)},s,o)}},function(e,t,n){(function(e){try{global.process.dlopen(e,"/Users/rocket/Projects/MyProjects/spritesheet-splitter-cli/node_modules/canvas/build/Release/canvas.node")}catch(e){throw new Error("Cannot open /Users/rocket/Projects/MyProjects/spritesheet-splitter-cli/node_modules/canvas/build/Release/canvas.node: "+e)}}).call(this,n(15)(e))},function(e,t,n){"use strict";
/*!
 * Canvas - Image
 * Copyright (c) 2010 LearnBoost <tj@learnboost.com>
 * MIT Licensed
 */const r=n(4),s=e.exports=r.Image,o=n(2);let i;const{GetSource:a,SetSource:c}=r;function l(e,t,n){c.call(e,t),e._originalSource=n}Object.defineProperty(s.prototype,"src",{set(e){if("string"==typeof e)if(/^\s*data:/.test(e)){const t=e.indexOf(","),n=-1!==e.lastIndexOf("base64",t),r=e.slice(t+1);l(this,Buffer.from(r,n?"base64":"utf8"),e)}else if(/^\s*https?:\/\//.test(e)){const t=e=>{if("function"!=typeof this.onerror)throw e;this.onerror(e)};i||(i=n(37)),i.concat(e,(e,n,r)=>e?t(e):n.statusCode<200||n.statusCode>=300?t(new Error("Server responded with "+n.statusCode)):void l(this,r))}else l(this,e);else Buffer.isBuffer(e)&&l(this,e)},get(){return(e=this)._originalSource||a.call(e);var e},configurable:!0}),s.prototype[o.inspect.custom||"inspect"]=function(){return"[Image"+(this.complete?":"+this.width+"x"+this.height:"")+(this.src?" "+this.src:"")+(this.complete?" complete":"")+"]"}},function(e,t,n){e.exports=h;const r=n(38),s=n(39),o=n(21),i=n(22),a=n(42),c=n(44),l=n(23),u=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;function h(e,t){if(e=Object.assign({maxRedirects:10},"string"==typeof e?{url:e}:e),t=a(t),e.url){const{hostname:t,port:n,protocol:r,auth:s,path:o}=l.parse(e.url);delete e.url,t||n||r||s?Object.assign(e,{hostname:t,port:n,protocol:r,auth:s,path:o}):e.path=o}const n={"accept-encoding":"gzip, deflate"};let r;e.headers&&Object.keys(e.headers).forEach(t=>n[t.toLowerCase()]=e.headers[t]),e.headers=n,e.body?r=e.json&&!u(e.body)?JSON.stringify(e.body):e.body:e.form&&(r="string"==typeof e.form?e.form:c.stringify(e.form),e.headers["content-type"]="application/x-www-form-urlencoded"),r&&(e.method||(e.method="POST"),u(r)||(e.headers["content-length"]=Buffer.byteLength(r)),e.json&&!e.form&&(e.headers["content-type"]="application/json")),delete e.body,delete e.form,e.json&&(e.headers.accept="application/json"),e.method&&(e.method=e.method.toUpperCase());const p=("https:"===e.protocol?i:o).request(e,n=>{if(!1!==e.followRedirects&&n.statusCode>=300&&n.statusCode<400&&n.headers.location)return e.url=n.headers.location,delete e.headers.host,n.resume(),"POST"===e.method&&[301,302].includes(n.statusCode)&&(e.method="GET",delete e.headers["content-length"],delete e.headers["content-type"]),0==e.maxRedirects--?t(new Error("too many redirects")):h(e,t);const r="function"==typeof s&&"HEAD"!==e.method;t(null,r?s(n):n)});return p.on("timeout",()=>{p.abort(),t(new Error("Request timed out"))}),p.on("error",t),u(r)?r.on("error",t).pipe(p):p.end(r),p}h.concat=(e,t)=>h(e,(n,s)=>{if(n)return t(n);r(s,(n,r)=>{if(n)return t(n);if(e.json)try{r=JSON.parse(r.toString())}catch(n){return t(n,s,r)}t(null,s,r)})}),["get","post","put","patch","head","delete"].forEach(e=>{h[e]=(t,n)=>("string"==typeof t&&(t={url:t}),h(Object.assign({method:e.toUpperCase()},t),n))})},function(e,t){e.exports=function(e,t){var n=[];e.on("data",(function(e){n.push(e)})),e.once("end",(function(){t&&t(null,Buffer.concat(n)),t=null})),e.once("error",(function(e){t&&t(e),t=null}))}},function(e,t,n){"use strict";const{PassThrough:r}=n(5),s=n(40),o=n(41),i=e=>{const t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;const n="br"===t;if(n&&"function"!=typeof s.createBrotliDecompress)return e;const i=n?s.createBrotliDecompress():s.createUnzip(),a=new r;return o(e,a),i.on("error",e=>{"Z_BUF_ERROR"!==e.code?a.emit("error",e):a.end()}),e.pipe(i).pipe(a),a};e.exports=i,e.exports.default=i},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";const r=["aborted","complete","destroy","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=(e,t)=>{const n=new Set(Object.keys(e).concat(r));for(const r of n)r in t||(t[r]="function"==typeof e[r]?e[r].bind(e):e[r]);return t}},function(e,t,n){var r=n(43);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach((function(e){r[e]=s[e]})),r}}},function(e,t){e.exports=require("querystring")},function(e){e.exports=JSON.parse('{"_from":"canvas@^2.5.0","_id":"canvas@2.6.1","_inBundle":false,"_integrity":"sha512-S98rKsPcuhfTcYbtF53UIJhcbgIAK533d1kJKMwsMwAIFgfd58MOyxRud3kktlzWiEkFliaJtvyZCBtud/XVEA==","_location":"/canvas","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"canvas@^2.5.0","name":"canvas","escapedName":"canvas","rawSpec":"^2.5.0","saveSpec":null,"fetchSpec":"^2.5.0"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/canvas/-/canvas-2.6.1.tgz","_shasum":"0d087dd4d60f5a5a9efa202757270abea8bef89e","_spec":"canvas@^2.5.0","_where":"/Users/rocket/Projects/MyProjects/spritesheet-splitter-cli","author":{"name":"TJ Holowaychuk","email":"tj@learnboost.com"},"binary":{"module_name":"canvas","module_path":"build/Release","host":"https://github.com/node-gfx/node-canvas-prebuilt/releases/download/","remote_path":"v{version}","package_name":"{module_name}-v{version}-{node_abi}-{platform}-{libc}-{arch}.tar.gz"},"browser":"browser.js","bugs":{"url":"https://github.com/Automattic/node-canvas/issues"},"bundleDependencies":false,"contributors":[{"name":"Nathan Rajlich","email":"nathan@tootallnate.net"},{"name":"Rod Vagg","email":"r@va.gg"},{"name":"Juriy Zaytsev","email":"kangax@gmail.com"}],"dependencies":{"nan":"^2.14.0","node-pre-gyp":"^0.11.0","simple-get":"^3.0.3"},"deprecated":false,"description":"Canvas graphics API backed by Cairo","devDependencies":{"@types/node":"^10.12.18","assert-rejects":"^1.0.0","dtslint":"^0.5.3","express":"^4.16.3","mocha":"^5.2.0","pixelmatch":"^4.0.2","standard":"^12.0.1"},"engines":{"node":">=6"},"files":["binding.gyp","lib/","src/","util/","types/index.d.ts"],"homepage":"https://github.com/Automattic/node-canvas","keywords":["canvas","graphic","graphics","pixman","cairo","image","images","pdf"],"license":"MIT","main":"index.js","name":"canvas","repository":{"type":"git","url":"git://github.com/Automattic/node-canvas.git"},"scripts":{"benchmark":"node benchmarks/run.js","dtslint":"dtslint types","install":"node-pre-gyp install --fallback-to-build","prebenchmark":"node-gyp build","pretest":"standard examples/*.js test/server.js test/public/*.js benchmarks/run.js lib/context2d.js util/has_lib.js browser.js index.js && node-gyp build","pretest-server":"node-gyp build","test":"mocha test/*.test.js","test-server":"node test/server.js"},"types":"types/index.d.ts","version":"2.6.1"}')},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";(function(r){!async function(){}();const s=n(9),o=n(1),i=n(24),a=n(54),c=n(27),l=n(0),u=n(56),h=n(67),p=n(69),f=n(12),d=n(29),g=n(70),{globalMiddlewareFactory:m}=n(26),y=n(6),b=n(32);function _(e,t){return l.relative(e,t)}(t=e.exports=function(e,t,v){e=e||[];const x={};let w=null,O=null,E={};const S=[];let j="";const k={};let C=null,D=null,A=null;const P=p({directory:l.resolve(r,"./locales"),updateFiles:!1});x.middleware=m(S,x),t||(t=process.cwd());x.scriptName=function(e){return x.customScriptName=!0,x.$0=e,x},/\b(node|iojs|electron)(\.exe)?$/.test(process.argv[0])?x.$0=process.argv.slice(1,2):x.$0=process.argv.slice(0,1);x.$0=x.$0.map((e,n)=>{const r=_(t,e);return e.match(/^(\/|([a-zA-Z]:)?\\)/)&&r.length<e.length?r:e}).join(" ").trim(),void 0!==process.env._&&b.getProcessArgvBin()===process.env._&&(x.$0=process.env._.replace(l.dirname(process.execPath)+"/",""));const $={resets:-1,commands:[],fullCommands:[],files:[]};let M;x.getContext=()=>$,x.resetOptions=x.reset=function(e){$.resets++,e=e||{},M=M||{};const t={};t.local=M.local?M.local:[],t.configObjects=M.configObjects?M.configObjects:[];const n={};t.local.forEach(t=>{n[t]=!0,(e[t]||[]).forEach(e=>{n[e]=!0})}),Object.assign(k,Object.keys(E).reduce((e,t)=>{const r=E[t].filter(e=>!(e in n));return r.length>0&&(e[t]=r),e},{})),E={};return["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(e=>{t[e]=(M[e]||[]).filter(e=>!n[e])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","coerce","deprecatedOptions"].forEach(e=>{t[e]=f(M[e],(e,t)=>!n[e])}),t.envPrefix=M.envPrefix,M=t,C=C?C.reset(n):u(x,P),D=D?D.reset(n):h(x,C,P),w=w?w.reset():i(x,C,D,S),O||(O=a(x,C,w)),Q=null,j="",te=null,ee=!1,x.parsed=!1,x},x.resetOptions();const R=[];function L(){const e={};R.push(e),e.options=M,e.configObjects=M.configObjects.slice(0),e.exitProcess=Z,e.groups=E,C.freeze(),D.freeze(),w.freeze(),e.strict=G,e.strictCommands=V,e.completionCommand=Q,e.output=j,e.exitError=te,e.hasOutput=ee,e.parsed=x.parsed,e.parseFn=I,e.parseContext=q,e.handlerFinishCommand=A}function T(){const e=R.pop();M=e.options,M.configObjects=e.configObjects,Z=e.exitProcess,E=e.groups,j=e.output,te=e.exitError,ee=e.hasOutput,x.parsed=e.parsed,C.unfreeze(),D.unfreeze(),w.unfreeze(),G=e.strict,V=e.strictCommands,Q=e.completionCommand,I=e.parseFn,q=e.parseContext,A=e.handlerFinishCommand}function N(e,t,n){(t=[].concat(t)).forEach(t=>{t=H(t),M[e].push(t)})}function z(e,t,n,r,s){if(Array.isArray(r)){const t=Object.create(null);r.forEach(e=>{t[e]=s}),e(t)}else"object"==typeof r?Object.keys(r).forEach(t=>{e(t,r[t])}):(r=H(r),M[n][r]=t?(M[n][r]||[]).concat(s):s)}function H(e){return"__proto__"===e?"___proto___":e}function B(e){Object.keys(M).forEach(t=>{const n=M[t];Array.isArray(n)?~n.indexOf(e)&&n.splice(n.indexOf(e),1):"object"==typeof n&&delete n[e]}),delete C.getDescriptions()[e]}x.boolean=function(e){return s("<array|string>",[e],arguments.length),N("boolean",e),x},x.array=function(e){return s("<array|string>",[e],arguments.length),N("array",e),x},x.number=function(e){return s("<array|string>",[e],arguments.length),N("number",e),x},x.normalize=function(e){return s("<array|string>",[e],arguments.length),N("normalize",e),x},x.count=function(e){return s("<array|string>",[e],arguments.length),N("count",e),x},x.string=function(e){return s("<array|string>",[e],arguments.length),N("string",e),x},x.requiresArg=function(e,t){return s("<array|string|object> [number]",[e],arguments.length),"string"==typeof e&&M.narg[e]||z(x.requiresArg,!1,"narg",e,NaN),x},x.skipValidation=function(e){return s("<array|string>",[e],arguments.length),N("skipValidation",e),x},x.nargs=function(e,t){return s("<string|object|array> [number]",[e,t],arguments.length),z(x.nargs,!1,"narg",e,t),x},x.choices=function(e,t){return s("<object|string|array> [string|array]",[e,t],arguments.length),z(x.choices,!0,"choices",e,t),x},x.alias=function(e,t){return s("<object|string|array> [string|array]",[e,t],arguments.length),z(x.alias,!0,"alias",e,t),x},x.default=x.defaults=function(e,t,n){return s("<object|string|array> [*] [string]",[e,t,n],arguments.length),n&&(M.defaultDescription[e]=n),"function"==typeof t&&(M.defaultDescription[e]||(M.defaultDescription[e]=C.functionDescription(t)),t=t.call()),z(x.default,!1,"default",e,t),x},x.describe=function(e,t){return s("<object|string|array> [string]",[e,t],arguments.length),z(x.describe,!1,"key",e,!0),C.describe(e,t),x},x.demandOption=function(e,t){return s("<object|string|array> [string]",[e,t],arguments.length),z(x.demandOption,!1,"demandedOptions",e,t),x},x.coerce=function(e,t){return s("<object|string|array> [function]",[e,t],arguments.length),z(x.coerce,!1,"coerce",e,t),x},x.config=function(e,n,r){return s("[object|string] [string|function] [function]",[e,n,r],arguments.length),"object"==typeof e?(e=g(e,t,x.getParserConfiguration()["deep-merge-config"]),M.configObjects=(M.configObjects||[]).concat(e),x):("function"==typeof n&&(r=n,n=null),e=e||"config",x.describe(e,n||C.deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(e=>{M.config[e]=r||!0}),x)},x.example=function(e,t){return s("<string> [string]",[e,t],arguments.length),C.example(e,t),x},x.command=function(e,t,n,r,o){return s("<string|array|object> [string|boolean] [function|object] [function] [array]",[e,t,n,r,o],arguments.length),w.addHandler(e,t,n,r,o),x},x.commandDir=function(e,t){s("<string> [object]",[e,t],arguments.length);const r=v||n(13);return w.addDirectory(e,x.getContext(),r,n(71)(),t),x},x.demand=x.required=x.require=function(e,t,n){return Array.isArray(t)?(t.forEach(e=>{x.demandOption(e,n)}),t=1/0):"number"!=typeof t&&(n=t,t=1/0),"number"==typeof e?x.demandCommand(e,t,n,n):Array.isArray(e)?e.forEach(e=>{x.demandOption(e,n)}):"string"==typeof n?x.demandOption(e,n):!0!==n&&void 0!==n||x.demandOption(e),x},x.demandCommand=function(e,t,n,r){return s("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,t,n,r],arguments.length),void 0===e&&(e=1),"number"!=typeof t&&(n=t,t=1/0),x.global("_",!1),M.demandedCommands._={min:e,max:t,minMsg:n,maxMsg:r},x},x.getDemandedOptions=()=>(s([],0),M.demandedOptions),x.getDemandedCommands=()=>(s([],0),M.demandedCommands),x.deprecateOption=function(e,t){return s("<string> [string|boolean]",[e,t],arguments.length),M.deprecatedOptions[e]=t,x},x.getDeprecatedOptions=()=>(s([],0),M.deprecatedOptions),x.implies=function(e,t){return s("<string|object> [number|string|array]",[e,t],arguments.length),D.implies(e,t),x},x.conflicts=function(e,t){return s("<string|object> [string|array]",[e,t],arguments.length),D.conflicts(e,t),x},x.usage=function(e,t,n,r){if(s("<string|null|undefined> [string|boolean] [function|object] [function]",[e,t,n,r],arguments.length),void 0!==t){if((e||"").match(/^\$0( |$)/))return x.command(e,t,n,r);throw new y(".usage() description must start with $0 if being used as alias for .command()")}return C.usage(e),x},x.epilogue=x.epilog=function(e){return s("<string>",[e],arguments.length),C.epilog(e),x},x.fail=function(e){return s("<function>",[e],arguments.length),C.failFn(e),x},x.onFinishCommand=function(e){return s("<function>",[e],arguments.length),A=e,x},x.getHandlerFinishCommand=()=>A,x.check=function(e,t){return s("<function> [boolean]",[e,t],arguments.length),D.check(e,!1!==t),x},x.global=function(e,t){return s("<string|array> [boolean]",[e,t],arguments.length),e=[].concat(e),!1!==t?M.local=M.local.filter(t=>-1===e.indexOf(t)):e.forEach(e=>{-1===M.local.indexOf(e)&&M.local.push(e)}),x},x.pkgConf=function(e,n){s("<string> [string]",[e,n],arguments.length);let r=null;const o=U(n||t);return o[e]&&"object"==typeof o[e]&&(r=g(o[e],n||t,x.getParserConfiguration()["deep-merge-config"]),M.configObjects=(M.configObjects||[]).concat(r)),x};const F={};function U(e){const t=e||"*";if(F[t])return F[t];const r=n(72);let s={};try{let t=e||n(78)(v||n(13));!e&&l.extname(t)&&(t=l.dirname(t));const i=r.sync("package.json",{cwd:t});s=JSON.parse(o.readFileSync(i))}catch(e){}return F[t]=s||{},F[t]}let I=null,q=null;x.parse=function(t,n,r){if(s("[string|array] [function|boolean|object] [function]",[t,n,r],arguments.length),L(),void 0===t){const t=x._parseArgs(e),n=x.parsed;return T(),x.parsed=n,t}"object"==typeof n&&(q=n,n=r),"function"==typeof n&&(I=n,n=null),n||(e=t),I&&(Z=!1);const o=x._parseArgs(t,n);return O.setParsed(x.parsed),I&&I(te,o,j),T(),o},x._getParseContext=()=>q||{},x._hasParseCallback=()=>!!I,x.option=x.options=function(e,t){if(s("<string|object> [object]",[e,t],arguments.length),"object"==typeof e)Object.keys(e).forEach(t=>{x.options(t,e[t])});else{"object"!=typeof t&&(t={}),M.key[e]=!0,t.alias&&x.alias(e,t.alias);const n=t.deprecate||t.deprecated;n&&x.deprecateOption(e,n);const r=t.demand||t.required||t.require;r&&x.demand(e,r),t.demandOption&&x.demandOption(e,"string"==typeof t.demandOption?t.demandOption:void 0),"conflicts"in t&&x.conflicts(e,t.conflicts),"default"in t&&x.default(e,t.default),"implies"in t&&x.implies(e,t.implies),"nargs"in t&&x.nargs(e,t.nargs),t.config&&x.config(e,t.configParser),t.normalize&&x.normalize(e),"choices"in t&&x.choices(e,t.choices),"coerce"in t&&x.coerce(e,t.coerce),"group"in t&&x.group(e,t.group),(t.boolean||"boolean"===t.type)&&(x.boolean(e),t.alias&&x.boolean(t.alias)),(t.array||"array"===t.type)&&(x.array(e),t.alias&&x.array(t.alias)),(t.number||"number"===t.type)&&(x.number(e),t.alias&&x.number(t.alias)),(t.string||"string"===t.type)&&(x.string(e),t.alias&&x.string(t.alias)),(t.count||"count"===t.type)&&x.count(e),"boolean"==typeof t.global&&x.global(e,t.global),t.defaultDescription&&(M.defaultDescription[e]=t.defaultDescription),t.skipValidation&&x.skipValidation(e);const s=t.describe||t.description||t.desc;x.describe(e,s),t.hidden&&x.hide(e),t.requiresArg&&x.requiresArg(e)}return x},x.getOptions=()=>M,x.positional=function(e,t){if(s("<string> <object>",[e,t],arguments.length),0===$.resets)throw new y(".positional() can only be called in a command's builder function");const n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];t=f(t,(e,t)=>{let r=-1!==n.indexOf(e);return"type"===e&&-1===["string","number","boolean"].indexOf(t)&&(r=!1),r});const r=$.fullCommands[$.fullCommands.length-1],o=r?w.cmdToParseOptions(r):{array:[],alias:{},default:{},demand:{}};return Object.keys(o).forEach(n=>{Array.isArray(o[n])?-1!==o[n].indexOf(e)&&(t[n]=!0):o[n][e]&&!(n in t)&&(t[n]=o[n][e])}),x.group(e,C.getPositionalGroupName()),x.option(e,t)},x.group=function(e,t){s("<string|array> <string>",[e,t],arguments.length);const n=k[t]||E[t];k[t]&&delete k[t];const r={};return E[t]=(n||[]).concat(e).filter(e=>!r[e]&&(r[e]=!0)),x},x.getGroups=()=>Object.assign({},E,k),x.env=function(e){return s("[string|boolean]",[e],arguments.length),M.envPrefix=!1===e?void 0:e||"",x},x.wrap=function(e){return s("<number|null|undefined>",[e],arguments.length),C.wrap(e),x};let G=!1;x.strict=function(e){return s("[boolean]",[e],arguments.length),G=!1!==e,x},x.getStrict=()=>G;let V=!1;x.strictCommands=function(e){return s("[boolean]",[e],arguments.length),V=!1!==e,x},x.getStrictCommands=()=>V;let J={};x.parserConfiguration=function(e){return s("<object>",[e],arguments.length),J=e,x},x.getParserConfiguration=()=>J,x.showHelp=function(t){return s("[string|function]",[t],arguments.length),x.parsed||x._parseArgs(e),w.hasDefaultCommand()&&($.resets++,w.runDefaultBuilderOn(x,!0)),C.showHelp(t),x};let W=null;function X(){return U().version||"unknown"}x.version=function(e,t,n){const r="version";if(s("[boolean|string] [string] [string]",[e,t,n],arguments.length),W&&(B(W),C.version(void 0),W=null),0===arguments.length)n=X(),e=r;else if(1===arguments.length){if(!1===e)return x;n=e,e=r}else 2===arguments.length&&(n=t,t=null);return W="string"==typeof e?e:r,t=t||C.deferY18nLookup("Show version number"),C.version(n||void 0),x.boolean(W),x.describe(W,t),x};let Y=null;x.addHelpOpt=x.help=function(e,t){const n="help";return s("[string|boolean] [string]",[e,t],arguments.length),Y&&(B(Y),Y=null),1===arguments.length&&!1===e||(Y="string"==typeof e?e:n,x.boolean(Y),x.describe(Y,t||C.deferY18nLookup("Show help"))),x};M.showHiddenOpt="show-hidden",x.addShowHiddenOpt=x.showHidden=function(e,t){if(s("[string|boolean] [string]",[e,t],arguments.length),1===arguments.length&&!1===e)return x;const n="string"==typeof e?e:"show-hidden";return x.boolean(n),x.describe(n,t||C.deferY18nLookup("Show hidden options")),M.showHiddenOpt=n,x},x.hide=function(e){return s("<string|object>",[e],arguments.length),M.hiddenOptions.push(e),x},x.showHelpOnFail=function(e,t){return s("[boolean|string] [string]",[e,t],arguments.length),C.showHelpOnFail(e,t),x};var Z=!0;x.exitProcess=function(e){return s("[boolean]",[e],arguments.length),"boolean"!=typeof e&&(e=!0),Z=e,x},x.getExitProcess=()=>Z;var Q=null;x.completion=function(e,t,n){return s("[string] [string|boolean|function] [function]",[e,t,n],arguments.length),"function"==typeof t&&(n=t,t=null),Q=e||Q||"completion",t||!1===t||(t="generate completion script"),x.command(Q,t),n&&O.registerFunction(n),x},x.showCompletionScript=function(e,t){return s("[string] [string]",[e,t],arguments.length),e=e||x.$0,ne.log(O.generateCompletionScript(e,t||Q||"completion")),x},x.getCompletion=function(e,t){s("<array> <function>",[e,t],arguments.length),O.getCompletion(e,t)},x.locale=function(e){return s("[string]",[e],arguments.length),0===arguments.length?(se(),P.getLocale()):(K=!1,P.setLocale(e),x)},x.updateStrings=x.updateLocale=function(e){return s("<object>",[e],arguments.length),K=!1,P.updateLocale(e),x};let K=!0;x.detectLocale=function(e){return s("<boolean>",[e],arguments.length),K=e,x},x.getDetectLocale=()=>K;var ee=!1,te=null;x.exit=(e,t)=>{ee=!0,te=t,Z&&process.exit(e)};const ne={log(){const e=[];for(let t=0;t<arguments.length;t++)e.push(arguments[t]);x._hasParseCallback()||console.log.apply(console,e),ee=!0,j.length&&(j+="\n"),j+=e.join(" ")},error(){const e=[];for(let t=0;t<arguments.length;t++)e.push(arguments[t]);x._hasParseCallback()||console.error.apply(console,e),ee=!0,j.length&&(j+="\n"),j+=e.join(" ")}};let re;function se(){if(!K)return;const e=process.env.LC_ALL||process.env.LC_MESSAGES||process.env.LANG||process.env.LANGUAGE||"en_US";x.locale(e.replace(/[.:].*/,""))}return x._getLoggerInstance=()=>ne,x._hasOutput=()=>ee,x._setHasOutput=()=>{ee=!0},x.recommendCommands=function(e){return s("[boolean]",[e],arguments.length),re="boolean"!=typeof e||e,x},x.getUsageInstance=()=>C,x.getValidationInstance=()=>D,x.getCommandInstance=()=>w,x.terminalWidth=()=>(s([],0),void 0!==process.stdout.columns?process.stdout.columns:null),Object.defineProperty(x,"argv",{get:()=>x._parseArgs(e),enumerable:!0}),x._parseArgs=function(t,n,r,s){let o=!!r;t=t||e,M.__=P.__,M.configuration=x.getParserConfiguration();const i=!!M.configuration["populate--"],a=Object.assign({},M.configuration,{"populate--":!0}),l=c.detailed(t,Object.assign({},M,{configuration:a}));let u=l.argv;q&&(u=Object.assign({},u,q));const h=l.aliases;u.$0=x.$0,x.parsed=l;try{if(se(),n)return i||r?u:x._copyDoubleDash(u);if(Y){~[Y].concat(h[Y]||[]).filter(e=>e.length>1).indexOf(u._[u._.length-1])&&(u._.pop(),u[Y]=!0)}const e=w.getCommands(),a=O.completionKey in u,c=u[Y]||a,p=c&&(e.length>1||"$0"!==e[0]);if(u._.length){if(e.length){let t;for(let n,r=s||0;void 0!==u._[r];r++){if(n=String(u._[r]),~e.indexOf(n)&&n!==Q){const e=w.runCommand(n,x,l,r+1);return i?e:x._copyDoubleDash(e)}if(!t&&n!==Q){t=n;break}}if(w.hasDefaultCommand()&&!p){const e=w.runCommand(null,x,l);return i?e:x._copyDoubleDash(e)}re&&t&&!c&&D.recommendCommands(t,e)}Q&&~u._.indexOf(Q)&&!a&&(Z&&d(!0),x.showCompletionScript(),x.exit(0))}else if(w.hasDefaultCommand()&&!p){const e=w.runCommand(null,x,l);return i?e:x._copyDoubleDash(e)}if(a){Z&&d(!0);const e=t.slice(t.indexOf("--"+O.completionKey)+1);return O.getCompletion(e,e=>{(e||[]).forEach(e=>{ne.log(e)}),x.exit(0)}),i||r?u:x._copyDoubleDash(u)}if(ee||Object.keys(u).forEach(e=>{e===Y&&u[e]?(Z&&d(!0),o=!0,x.showHelp("log"),x.exit(0)):e===W&&u[e]&&(Z&&d(!0),o=!0,C.showVersion(),x.exit(0))}),!o&&M.skipValidation.length>0&&(o=Object.keys(u).some(e=>M.skipValidation.indexOf(e)>=0&&!0===u[e])),!o){if(l.error)throw new y(l.error.message);a||x._runValidation(u,h,{},l.error)}}catch(e){if(!(e instanceof y))throw e;C.fail(e.message,e)}return i||r?u:x._copyDoubleDash(u)},x._copyDoubleDash=function(e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch(e){}return e},x._runValidation=function(e,t,n,r){if(r)throw new y(r.message);D.nonOptionCount(e),D.requiredArguments(e);let s=!1;V&&(s=D.unknownCommands(e,t,n)),G&&!s&&D.unknownArguments(e,t,n),D.customChecks(e,t),D.limitedChoices(e),D.implications(e),D.conflicting(e)},x.help(),x.version(),x}).Parser=c,t.rebase=_}).call(this,"/")},function(e,t,n){"use strict";const r=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let s=0;s<e.length;s++){const o=e[s];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,s)+"-"+e.slice(s),t=!1,r=n,n=!0,s++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,s-1)+"-"+e.slice(s-1),r=n,n=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase()).replace(/\d+(\w|$)/g,e=>e.toUpperCase()),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n;var n};e.exports=r,e.exports.default=r},function(e,t){e.exports=function(e){if(Array.isArray(e))return e.map(e=>"string"!=typeof e?e+"":e);e=e.trim();let t=0,n=null,r=null,s=null;const o=[];for(let i=0;i<e.length;i++)n=r,r=e.charAt(i)," "!==r||s?(r===s?s=null:"'"!==r&&'"'!==r||s||(s=r),o[t]||(o[t]=""),o[t]+=r):" "!==n&&t++;return o}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=51},function(e,t,n){"use strict";var r=n(1),s=n(0).join,o=n(0).resolve,i=n(0).dirname,a={extensions:["js","json","coffee"],recurse:!0,rename:function(e){return e},visit:function(e){return e}};e.exports=function e(t,n,c){var l={};for(var u in n&&!c&&"string"!=typeof n&&(c=n,n=null),c=c||{},a)void 0===c[u]&&(c[u]=a[u]);return n=n?o(i(t.filename),n):i(t.filename),r.readdirSync(n).forEach((function(o){var i,a,u,h=s(n,o);r.statSync(h).isDirectory()&&c.recurse?(i=e(t,h,c),Object.keys(i).length&&(l[c.rename(o,h,o)]=i)):h!==t.filename&&function(e,t,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(t)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(e))&&!(n.include&&"function"==typeof n.include&&!n.include(e,t))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(e))&&!(n.exclude&&"function"==typeof n.exclude&&n.exclude(e,t))}(h,o,c)&&(a=o.substring(0,o.lastIndexOf(".")),u=t.require(h),l[c.rename(a,h,o)]=c.visit(u,h,o)||u)})),l},e.exports.defaults=a},function(e,t,n){"use strict";e.exports=function(e){for(var t,r=0,s=Object.keys(n.c);r<s.length;r++)if((t=n.c[s[r]]).exports===e)return t;return null}},function(e,t,n){"use strict";const r=n(0);e.exports=function(e,t,s){const o={completionKey:"get-yargs-completions"};let i;o.setParsed=function(e){i=e.aliases};const a=process.env.SHELL&&-1!==process.env.SHELL.indexOf("zsh")||process.env.ZSH_NAME&&-1!==process.env.ZSH_NAME.indexOf("zsh");o.getCompletion=function(n,r){const o=[],l=n.length?n[n.length-1]:"",u=e.parse(n,!0),h=e.getContext().commands;if(c){if(c.length<3){const e=c(l,u);return"function"==typeof e.then?e.then(e=>{process.nextTick(()=>{r(e)})}).catch(e=>{process.nextTick(()=>{throw e})}):r(e)}return c(l,u,e=>{r(e)})}const p=s.getCommandHandlers();for(let t=0,r=n.length;t<r;++t)if(p[n[t]]&&p[n[t]].builder){const r=p[n[t]].builder;if("function"==typeof r){const t=e.reset();return r(t),t.argv}}if(l.match(/^-/)||h[h.length-1]===l||t.getCommands().forEach(e=>{const t=s.parseCommand(e[0]).cmd;if(-1===n.indexOf(t))if(a){const n=e[1]||"";o.push(t.replace(/:/g,"\\:")+":"+n)}else o.push(t)}),l.match(/^-/)||""===l&&0===o.length){const r=t.getDescriptions(),s=e.getOptions();Object.keys(s.key).forEach(e=>{const t=!!s.configuration["boolean-negation"]&&s.boolean.includes(e);let c=[e].concat(i[e]||[]);function u(e){if(c.every(e=>-1===n.indexOf("--"+e))){const t=e=>/^[^0-9]$/.test(e),n=!(e=>/^--/.test(e))(l)&&t(e)?"-":"--";if(a){const t=r[e]||"";o.push(n+`${e.replace(/:/g,"\\:")}:${t.replace("__yargsString__:","")}`)}else o.push(n+e)}}t&&(c=c.concat(c.map(e=>"no-"+e))),u(e),t&&s.default[e]&&u("no-"+e)})}r(o)},o.generateCompletionScript=function(e,t){const s=n(55);let o=a?s.completionZshTemplate:s.completionShTemplate;const i=r.basename(e);return e.match(/\.js$/)&&(e="./"+e),o=o.replace(/{{app_name}}/g,i),o=o.replace(/{{completion_command}}/g,t),o.replace(/{{app_path}}/g,e)};let c=null;return o.registerFunction=e=>{c=e},o}},function(e,t){t.completionShTemplate='###-begin-{{app_name}}-completions-###\n#\n# yargs command completion script\n#\n# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc\n#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.\n#\n_yargs_completions()\n{\n    local cur_word args type_list\n\n    cur_word="${COMP_WORDS[COMP_CWORD]}"\n    args=("${COMP_WORDS[@]}")\n\n    # ask yargs to generate completions.\n    type_list=$({{app_path}} --get-yargs-completions "${args[@]}")\n\n    COMPREPLY=( $(compgen -W "${type_list}" -- ${cur_word}) )\n\n    # if no match was found, fall back to filename completion\n    if [ ${#COMPREPLY[@]} -eq 0 ]; then\n      COMPREPLY=()\n    fi\n\n    return 0\n}\ncomplete -o default -F _yargs_completions {{app_name}}\n###-end-{{app_name}}-completions-###\n',t.completionZshTemplate='###-begin-{{app_name}}-completions-###\n#\n# yargs command completion script\n#\n# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc\n#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.\n#\n_{{app_name}}_yargs_completions()\n{\n  local reply\n  local si=$IFS\n  IFS=$\'\n\' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "${words[@]}"))\n  IFS=$si\n  _describe \'values\' reply\n}\ncompdef _{{app_name}}_yargs_completions {{app_name}}\n###-end-{{app_name}}-completions-###\n'},function(e,t,n){"use strict";const r=n(28),s=n(10),o=n(12),i=n(0),a=n(29),c=n(6);e.exports=function(e,t){const l=t.__,u={},h=[];u.failFn=function(e){h.push(e)};let p=null,f=!0;u.showHelpOnFail=function(e,t){return"string"==typeof e?(t=e,e=!0):void 0===e&&(e=!0),p=t,f=e,u};let d=!1;u.fail=function(t,n){const r=e._getLoggerInstance();if(!h.length){if(e.getExitProcess()&&a(!0),d||(d=!0,f&&(e.showHelp("error"),r.error()),(t||n)&&r.error(t||n),p&&((t||n)&&r.error(""),r.error(p))),n=n||new c(t),e.getExitProcess())return e.exit(1);if(e._hasParseCallback())return e.exit(1,n);throw n}for(let e=h.length-1;e>=0;--e)h[e](t,n,u)};let g=[],m=!1;u.usage=(e,t)=>null===e?(m=!0,void(g=[])):(m=!1,g.push([e,t||""]),u),u.getUsage=()=>g,u.getUsageDisabled=()=>m,u.getPositionalGroupName=()=>l("Positionals:");let y=[];u.example=(e,t)=>{y.push([e,t||""])};let b=[];u.command=function(e,t,n,r){n&&(b=b.map(e=>(e[2]=!1,e))),b.push([e,t||"",n,r])},u.getCommands=()=>b;let _={};u.describe=function(e,t){"object"==typeof e?Object.keys(e).forEach(t=>{u.describe(t,e[t])}):_[e]=t},u.getDescriptions=()=>_;let v=[];u.epilog=e=>{v.push(e)};let x,w=!1;function O(){return w||(x="object"==typeof process&&process.stdout&&process.stdout.columns?Math.min(80,process.stdout.columns):80,w=!0),x}u.wrap=e=>{w=!0,x=e};u.deferY18nLookup=e=>"__yargsString__:"+e;const E=l("Options:");function S(e,t,n){let r=0;return Array.isArray(e)||(e=Object.keys(e).map(t=>[e[t]])),e.forEach(e=>{r=Math.max(s(n?`${n} ${e[0]}`:e[0]),r)}),t&&(r=Math.min(r,parseInt(.5*t,10))),r}let j;function k(t){return e.getOptions().hiddenOptions.indexOf(t)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}function C(e,t){let n=`[${l("default:")} `;if(void 0===e&&!t)return null;if(t)n+=t;else switch(typeof e){case"string":n+=`"${e}"`;break;case"object":n+=JSON.stringify(e);break;default:n+=e}return n+"]"}u.help=function(){if(j)return j;!function(){const t=e.getDemandedOptions(),n=e.getOptions();(Object.keys(n.alias)||[]).forEach(r=>{n.alias[r].forEach(s=>{_[s]&&u.describe(r,_[s]),s in t&&e.demandOption(r,t[s]),~n.boolean.indexOf(s)&&e.boolean(r),~n.count.indexOf(s)&&e.count(r),~n.string.indexOf(s)&&e.string(r),~n.normalize.indexOf(s)&&e.normalize(r),~n.array.indexOf(s)&&e.array(r),~n.number.indexOf(s)&&e.number(r)})})}();const t=e.customScriptName?e.$0:i.basename(e.$0),r=e.getDemandedOptions(),s=e.getDemandedCommands(),o=e.getDeprecatedOptions(),a=e.getGroups(),c=e.getOptions();let h=[];h=h.concat(Object.keys(_)),h=h.concat(Object.keys(r)),h=h.concat(Object.keys(s)),h=h.concat(Object.keys(c.default)),h=h.filter(k),h=Object.keys(h.reduce((e,t)=>("_"!==t&&(e[t]=!0),e),{}));const p=O(),f=n(61)({width:p,wrap:!!p});if(!m)if(g.length)g.forEach(e=>{f.div(""+e[0].replace(/\$0/g,t)),e[1]&&f.div({text:""+e[1],padding:[1,0,0,0]})}),f.div();else if(b.length){let e=null;e=s._?`${t} <${l("command")}>\n`:`${t} [${l("command")}]\n`,f.div(""+e)}if(b.length){f.div(l("Commands:"));const n=e.getContext(),r=n.commands.length?n.commands.join(" ")+" ":"";!0===e.getParserConfiguration()["sort-commands"]&&(b=b.sort((e,t)=>e[0].localeCompare(t[0]))),b.forEach(e=>{const n=`${t} ${r}${e[0].replace(/^\$0 ?/,"")}`;f.span({text:n,padding:[0,2,0,2],width:S(b,p,`${t}${r}`)+4},{text:e[1]});const s=[];e[2]&&s.push(`[${l("default")}]`),e[3]&&e[3].length&&s.push(`[${l("aliases:")} ${e[3].join(", ")}]`),s.length?f.div({text:s.join(" "),padding:[0,0,0,2],align:"right"}):f.div()}),f.div()}const d=(Object.keys(c.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);if(h=h.filter(t=>!e.parsed.newAliases[t]&&d.every(e=>-1===(c.alias[e]||[]).indexOf(t))),a[E]||(a[E]=[]),function(e,t,n){let r=[],s=null;Object.keys(n).forEach(e=>{r=r.concat(n[e])}),e.forEach(e=>{s=[e].concat(t[e]),s.some(e=>-1!==r.indexOf(e))||n[E].push(e)})}(h,c.alias,a),Object.keys(a).forEach(e=>{if(!a[e].length)return;const t=a[e].filter(k).map(e=>{if(~d.indexOf(e))return e;for(let t,n=0;void 0!==(t=d[n]);n++)if(~(c.alias[t]||[]).indexOf(e))return t;return e});if(t.length<1)return;f.div(e);const n=t.reduce((t,n)=>(t[n]=[n].concat(c.alias[n]||[]).map(t=>e===u.getPositionalGroupName()?t:(/^[0-9]$/.test(t)?~c.boolean.indexOf(n)?"-":"--":t.length>1?"--":"-")+t).join(", "),t),{});t.forEach(e=>{const t=n[e];let s=_[e]||"",i=null;~s.lastIndexOf("__yargsString__:")&&(s=l(s.substring("__yargsString__:".length))),~c.boolean.indexOf(e)&&(i=`[${l("boolean")}]`),~c.count.indexOf(e)&&(i=`[${l("count")}]`),~c.string.indexOf(e)&&(i=`[${l("string")}]`),~c.normalize.indexOf(e)&&(i=`[${l("string")}]`),~c.array.indexOf(e)&&(i=`[${l("array")}]`),~c.number.indexOf(e)&&(i=`[${l("number")}]`);const a=[e in o?"string"==typeof o[e]?`[${l("deprecated: %s",o[e])}]`:`[${l("deprecated")}]`:null,i,e in r?`[${l("required")}]`:null,c.choices&&c.choices[e]?`[${l("choices:")} ${u.stringifiedValues(c.choices[e])}]`:null,C(c.default[e],c.defaultDescription[e])].filter(Boolean).join(" ");f.span({text:t,padding:[0,2,0,2],width:S(n,p)+4},s),a?f.div({text:a,padding:[0,0,0,2],align:"right"}):f.div()}),f.div()}),y.length&&(f.div(l("Examples:")),y.forEach(e=>{e[0]=e[0].replace(/\$0/g,t)}),y.forEach(e=>{""===e[1]?f.div({text:e[0],padding:[0,2,0,2]}):f.div({text:e[0],padding:[0,2,0,2],width:S(y,p)+4},{text:e[1]})}),f.div()),v.length>0){const e=v.map(e=>e.replace(/\$0/g,t)).join("\n");f.div(e+"\n")}return f.toString().replace(/\s*$/,"")},u.cacheHelpMessage=function(){j=this.help()},u.clearCachedHelpMessage=function(){j=void 0},u.showHelp=t=>{const n=e._getLoggerInstance();t||(t="error");("function"==typeof t?t:n[t])(u.help())},u.functionDescription=e=>["(",e.name?r(e.name,"-"):l("generated-value"),")"].join(""),u.stringifiedValues=function(e,t){let n="";const r=t||", ",s=[].concat(e);return e&&s.length?(s.forEach(e=>{n.length&&(n+=r),n+=JSON.stringify(e)}),n):n};let D=null;u.version=e=>{D=e},u.showVersion=()=>{e._getLoggerInstance().log(D)},u.reset=function(e){return p=null,d=!1,g=[],m=!1,v=[],y=[],b=[],_=o(_,(t,n)=>!e[t]),u};const A=[];return u.freeze=function(){const e={};A.push(e),e.failMessage=p,e.failureOutput=d,e.usages=g,e.usageDisabled=m,e.epilogs=v,e.examples=y,e.commands=b,e.descriptions=_},u.unfreeze=function(){const e=A.pop();p=e.failMessage,d=e.failureOutput,g=e.usages,m=e.usageDisabled,v=e.epilogs,y=e.examples,b=e.commands,_=e.descriptions},u}},function(e,t,n){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},function(e,t,n){"use strict";e.exports=function(e,t){if(null==e)throw TypeError();var n=(e=String(e)).length,r=t?Number(t):0;if(Number.isNaN(r)&&(r=0),!(r<0||r>=n)){var s=e.charCodeAt(r);if(s>=55296&&s<=56319&&n>r+1){var o=e.charCodeAt(r+1);if(o>=56320&&o<=57343)return 1024*(s-55296)+o-56320+65536}return s}}},function(e,t,n){"use strict";var r=n(60);e.exports=function(e){return!r(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141))}},function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(e,t,n){"use strict";const r=n(10),s=n(11),o=n(62),i={right:function(e,t){e=e.trim();const n=r(e);if(n<t)return" ".repeat(t-n)+e;return e},center:function(e,t){e=e.trim();const n=r(e);if(n>=t)return e;return" ".repeat(t-n>>1)+e}};class a{constructor(e){this.width=e.width,this.wrap=e.wrap,this.rows=[]}span(...e){this.div(...e).span=!0}resetOutput(){this.rows=[]}div(...e){if(0===e.length&&this.div(""),this.wrap&&this._shouldApplyLayoutDSL(...e))return this._applyLayoutDSL(e[0]);const t=e.map(e=>"string"==typeof e?this._colFromString(e):e);return this.rows.push(t),t}_shouldApplyLayoutDSL(...e){return 1===e.length&&"string"==typeof e[0]&&/[\t\n]/.test(e[0])}_applyLayoutDSL(e){const t=e.split("\n").map(e=>e.split("\t"));let n=0;return t.forEach(e=>{e.length>1&&r(e[0])>n&&(n=Math.min(Math.floor(.5*this.width),r(e[0])))}),t.forEach(e=>{this.div(...e.map((t,r)=>({text:t.trim(),padding:this._measurePadding(t),width:0===r&&e.length>1?n:void 0})))}),this.rows[this.rows.length-1]}_colFromString(e){return{text:e,padding:this._measurePadding(e)}}_measurePadding(e){const t=s(e);return[0,t.match(/\s*$/)[0].length,0,t.match(/^\s*/)[0].length]}toString(){const e=[];return this.rows.forEach(t=>{this.rowToString(t,e)}),e.filter(e=>!e.hidden).map(e=>e.text).join("\n")}rowToString(e,t){return this._rasterize(e).forEach((n,s)=>{let o="";n.forEach((n,a)=>{const{width:l}=e[a],u=this._negatePadding(e[a]);let h=n;u>r(n)&&(h+=" ".repeat(u-r(n))),e[a].align&&"left"!==e[a].align&&this.wrap&&(h=i[e[a].align](h,u),r(h)<u&&(h+=" ".repeat(l-r(h)-1)));const p=e[a].padding||[0,0,0,0];p[3]&&(o+=" ".repeat(p[3])),o+=c(e[a],h,"| "),o+=h,o+=c(e[a],h," |"),p[1]&&(o+=" ".repeat(p[1])),0===s&&t.length>0&&(o=this._renderInline(o,t[t.length-1]))}),t.push({text:o.replace(/ +$/,""),span:e.span})}),t}_renderInline(e,t){const n=e.match(/^ */)[0].length,s=t.text,o=r(s.trimRight());return t.span?this.wrap?n<o?e:(t.hidden=!0,s.trimRight()+" ".repeat(n-o)+e.trimLeft()):(t.hidden=!0,s+e):e}_rasterize(e){const t=[],n=this._columnWidths(e);let r;return e.forEach((e,s)=>{e.width=n[s],r=this.wrap?o(e.text,this._negatePadding(e),{hard:!0}).split("\n"):e.text.split("\n"),e.border&&(r.unshift("."+"-".repeat(this._negatePadding(e)+2)+"."),r.push("'"+"-".repeat(this._negatePadding(e)+2)+"'")),e.padding&&(r.unshift(...new Array(e.padding[0]||0).fill("")),r.push(...new Array(e.padding[2]||0).fill(""))),r.forEach((e,n)=>{t[n]||t.push([]);const r=t[n];for(let e=0;e<s;e++)void 0===r[e]&&r.push("");r.push(e)})}),t}_negatePadding(e){let t=e.width;return e.padding&&(t-=(e.padding[3]||0)+(e.padding[1]||0)),e.border&&(t-=4),t}_columnWidths(e){if(!this.wrap)return e.map(e=>e.width||r(e.text));let t=e.length,n=this.width;const s=e.map(e=>{if(e.width)return t--,n-=e.width,e.width}),o=t?Math.floor(n/t):0;return s.map((t,n)=>void 0===t?Math.max(o,function(e){const t=e.padding||[],n=1+(t[3]||0)+(t[1]||0);if(e.border)return n+4;return n}(e[n])):t)}}function c(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":0!==t.trim().length?n:"  ":""}function l(){if("object"==typeof process&&process.stdout&&process.stdout.columns)return process.stdout.columns}e.exports=function(e={}){return new a({width:e.width||l()||80,wrap:!1!==e.wrap})}},function(e,t,n){"use strict";const r=n(10),s=n(11),o=n(63),i=new Set(["",""]),a=e=>`${i.values().next().value}[${e}m`,c=(e,t,n)=>{const o=[...t];let a=!1,c=r(s(e[e.length-1]));for(const[t,s]of o.entries()){const l=r(s);if(c+l<=n?e[e.length-1]+=s:(e.push(s),c=0),i.has(s))a=!0;else if(a&&"m"===s){a=!1;continue}a||(c+=l,c===n&&t<o.length-1&&(e.push(""),c=0))}!c&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},l=e=>{const t=e.split(" ");let n=t.length;for(;n>0&&!(r(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},u=(e,t,n={})=>{if(!1!==n.trim&&""===e.trim())return"";let s,u="",h="";const p=(e=>e.split(" ").map(e=>r(e)))(e);let f=[""];for(const[s,o]of e.split(" ").entries()){!1!==n.trim&&(f[f.length-1]=f[f.length-1].trimLeft());let e=r(f[f.length-1]);if(0!==s&&(e>=t&&(!1===n.wordWrap||!1===n.trim)&&(f.push(""),e=0),(e>0||!1===n.trim)&&(f[f.length-1]+=" ",e++)),n.hard&&p[s]>t){const n=t-e,r=1+Math.floor((p[s]-n-1)/t);Math.floor((p[s]-1)/t)<r&&f.push(""),c(f,o,t)}else{if(e+p[s]>t&&e>0&&p[s]>0){if(!1===n.wordWrap&&e<t){c(f,o,t);continue}f.push("")}e+p[s]>t&&!1===n.wordWrap?c(f,o,t):f[f.length-1]+=o}}!1!==n.trim&&(f=f.map(l)),u=f.join("\n");for(const[e,t]of[...u].entries()){if(h+=t,i.has(t)){const t=parseFloat(/\d[^m]*/.exec(u.slice(e,e+4)));s=39===t?null:t}const n=o.codes.get(Number(s));s&&n&&("\n"===u[e+1]?h+=a(n):"\n"===t&&(h+=a(s)))}return h};e.exports=(e,t,n)=>String(e).normalize().replace(/\r\n/g,"\n").split("\n").map(e=>u(e,t,n)).join("\n")},function(e,t,n){"use strict";(function(e){const t=(e,t)=>(...n)=>`[${e(...n)+t}m`,r=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};5;${r}m`},s=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};2;${r[0]};${r[1]};${r[2]}m`},o=e=>e,i=(e,t,n)=>[e,t,n],a=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{const r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let c;const l=(e,t,r,s)=>{void 0===c&&(c=n(64));const o=s?10:0,i={};for(const[n,s]of Object.entries(c)){const a="ansi16"===n?"ansi":n;n===t?i[a]=e(r,o):"object"==typeof s&&(i[a]=e(s[t],o))}return i};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,n={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};n.color.gray=n.color.blackBright,n.bgColor.bgGray=n.bgColor.bgBlackBright,n.color.grey=n.color.blackBright,n.bgColor.bgGrey=n.bgColor.bgBlackBright;for(const[t,r]of Object.entries(n)){for(const[t,s]of Object.entries(r))n[t]={open:`[${s[0]}m`,close:`[${s[1]}m`},r[t]=n[t],e.set(s[0],s[1]);Object.defineProperty(n,t,{value:r,enumerable:!1})}return Object.defineProperty(n,"codes",{value:e,enumerable:!1}),n.color.close="[39m",n.bgColor.close="[49m",a(n.color,"ansi",()=>l(t,"ansi16",o,!1)),a(n.color,"ansi256",()=>l(r,"ansi256",o,!1)),a(n.color,"ansi16m",()=>l(s,"rgb",i,!1)),a(n.bgColor,"ansi",()=>l(t,"ansi16",o,!0)),a(n.bgColor,"ansi256",()=>l(r,"ansi256",o,!0)),a(n.bgColor,"ansi16m",()=>l(s,"rgb",i,!0)),n}})}).call(this,n(15)(e))},function(e,t,n){const r=n(30),s=n(66),o={};Object.keys(r).forEach(e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=s(e);Object.keys(t).forEach(n=>{const r=t[n];o[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=o},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){const r=n(30);function s(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),s=Object.keys(r[e]);for(let r=s.length,o=0;o<r;o++){const r=s[o],i=t[r];-1===i.distance&&(i.distance=t[e].distance+1,i.parent=e,n.unshift(r))}}return t}function o(e,t){return function(n){return t(e(n))}}function i(e,t){const n=[t[e].parent,e];let s=r[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),s=o(r[t[i].parent][i],s),i=t[i].parent;return s.conversion=n,s}e.exports=function(e){const t=s(e),n={},r=Object.keys(t);for(let e=r.length,s=0;s<e;s++){const e=r[s];null!==t[e].parent&&(n[e]=i(e,t))}return n}},function(e,t,n){"use strict";const r=n(9),s=n(12),o=["$0","--","_"];e.exports=function(e,t,i){const a=i.__,c=i.__n,l={nonOptionCount:function(n){const r=e.getDemandedCommands(),s=n._.length-e.getContext().commands.length;r._&&(s<r._.min||s>r._.max)&&(s<r._.min?void 0!==r._.minMsg?t.fail(r._.minMsg?r._.minMsg.replace(/\$0/g,s).replace(/\$1/,r._.min):null):t.fail(c("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",s,s,r._.min)):s>r._.max&&(void 0!==r._.maxMsg?t.fail(r._.maxMsg?r._.maxMsg.replace(/\$0/g,s).replace(/\$1/,r._.max):null):t.fail(c("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",s,s,r._.max))))},positionalCount:function(e,n){n<e&&t.fail(c("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",n,n,e))},requiredArguments:function(n){const r=e.getDemandedOptions();let s=null;if(Object.keys(r).forEach(e=>{Object.prototype.hasOwnProperty.call(n,e)&&void 0!==n[e]||(s=s||{},s[e]=r[e])}),s){const e=[];Object.keys(s).forEach(t=>{const n=s[t];n&&e.indexOf(n)<0&&e.push(n)});const n=e.length?"\n"+e.join("\n"):"";t.fail(c("Missing required argument: %s","Missing required arguments: %s",Object.keys(s).length,Object.keys(s).join(", ")+n))}},unknownArguments:function(n,r,s){const i=e.getCommandInstance().getCommands(),a=[],u=e.getContext();Object.keys(n).forEach(t=>{-1!==o.indexOf(t)||Object.prototype.hasOwnProperty.call(s,t)||Object.prototype.hasOwnProperty.call(e._getParseContext(),t)||l.isValidAndSomeAliasIsNotNew(t,r)||a.push(t)}),(u.commands.length>0||i.length>0)&&n._.slice(u.commands.length).forEach(e=>{-1===i.indexOf(e)&&a.push(e)}),a.length>0&&t.fail(c("Unknown argument: %s","Unknown arguments: %s",a.length,a.join(", ")))},unknownCommands:function(n,r,s){const o=e.getCommandInstance().getCommands(),i=[],a=e.getContext();return(a.commands.length>0||o.length>0)&&n._.slice(a.commands.length).forEach(e=>{-1===o.indexOf(e)&&i.push(e)}),i.length>0&&(t.fail(c("Unknown command: %s","Unknown commands: %s",i.length,i.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(t,n){if(!Object.prototype.hasOwnProperty.call(n,t))return!1;const r=e.parsed.newAliases;for(const e of[t,...n[t]])if(!Object.prototype.hasOwnProperty.call(r,e)||!r[t])return!0;return!1},limitedChoices:function(n){const r=e.getOptions(),s={};if(!Object.keys(r.choices).length)return;Object.keys(n).forEach(e=>{-1===o.indexOf(e)&&Object.prototype.hasOwnProperty.call(r.choices,e)&&[].concat(n[e]).forEach(t=>{-1===r.choices[e].indexOf(t)&&void 0!==t&&(s[e]=(s[e]||[]).concat(t))})});const i=Object.keys(s);if(!i.length)return;let c=a("Invalid values:");i.forEach(e=>{c+="\n  "+a("Argument: %s, Given: %s, Choices: %s",e,t.stringifiedValues(s[e]),t.stringifiedValues(r.choices[e]))}),t.fail(c)}};let u=[];l.check=function(e,t){u.push({func:e,global:t})},l.customChecks=function(e,n){for(let r,s=0;void 0!==(r=u[s]);s++){const s=r.func;let o=null;try{o=s(e,n)}catch(e){t.fail(e.message?e.message:e,e);continue}o?("string"==typeof o||o instanceof Error)&&t.fail(o.toString(),o):t.fail(a("Argument check failed: %s",s.toString()))}};let h={};function p(e,t){const n=Number(t);return t="number"==typeof(t=isNaN(n)?t:n)?e._.length>=t:t.match(/^--no-.+/)?!e[t=t.match(/^--no-(.+)/)[1]]:e[t]}l.implies=function(t,n){r("<string|object> [array|number|string]",[t,n],arguments.length),"object"==typeof t?Object.keys(t).forEach(e=>{l.implies(e,t[e])}):(e.global(t),h[t]||(h[t]=[]),Array.isArray(n)?n.forEach(e=>l.implies(t,e)):h[t].push(n))},l.getImplied=function(){return h},l.implications=function(e){const n=[];if(Object.keys(h).forEach(t=>{const r=t;(h[t]||[]).forEach(t=>{let s=r;const o=t;s=p(e,s),t=p(e,t),s&&!t&&n.push(` ${r} -> ${o}`)})}),n.length){let e=a("Implications failed:")+"\n";n.forEach(t=>{e+=t}),t.fail(e)}};let f={};l.conflicts=function(t,n){r("<string|object> [array|string]",[t,n],arguments.length),"object"==typeof t?Object.keys(t).forEach(e=>{l.conflicts(e,t[e])}):(e.global(t),f[t]||(f[t]=[]),Array.isArray(n)?n.forEach(e=>l.conflicts(t,e)):f[t].push(n))},l.getConflicting=()=>f,l.conflicting=function(e){Object.keys(e).forEach(n=>{f[n]&&f[n].forEach(r=>{r&&void 0!==e[n]&&void 0!==e[r]&&t.fail(a("Arguments %s and %s are mutually exclusive",n,r))})})},l.recommendCommands=function(e,r){const s=n(68);r=r.sort((e,t)=>t.length-e.length);let o=null,i=1/0;for(let t,n=0;void 0!==(t=r[n]);n++){const n=s(e,t);n<=3&&n<i&&(i=n,o=t)}o&&t.fail(a("Did you mean %s?",o))},l.reset=function(e){return h=s(h,(t,n)=>!e[t]),f=s(f,(t,n)=>!e[t]),u=u.filter(e=>e.global),l};const d=[];return l.freeze=function(){const e={};d.push(e),e.implied=h,e.checks=u,e.conflicting=f},l.unfreeze=function(){const e=d.pop();h=e.implied,u=e.checks,f=e.conflicting},l}},function(e,t,n){"use strict";e.exports=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;const n=[];let r,s;for(r=0;r<=t.length;r++)n[r]=[r];for(s=0;s<=e.length;s++)n[0][s]=s;for(r=1;r<=t.length;r++)for(s=1;s<=e.length;s++)t.charAt(r-1)===e.charAt(s-1)?n[r][s]=n[r-1][s-1]:n[r][s]=Math.min(n[r-1][s-1]+1,Math.min(n[r][s-1]+1,n[r-1][s]+1));return n[t.length][e.length]}},function(e,t,n){var r=n(1),s=n(0),o=n(2);function i(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles="boolean"!=typeof e.updateFiles||e.updateFiles,this.locale=e.locale||"en",this.fallbackToLanguage="boolean"!=typeof e.fallbackToLanguage||e.fallbackToLanguage,this.cache={},this.writeQueue=[]}i.prototype.__=function(){if("string"!=typeof arguments[0])return this._taggedLiteral.apply(this,arguments);var e=Array.prototype.slice.call(arguments),t=e.shift(),n=function(){};return"function"==typeof e[e.length-1]&&(n=e.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][t]&&this.updateFiles?(this.cache[this.locale][t]=t,this._enqueueWrite([this.directory,this.locale,n])):n(),o.format.apply(o,[this.cache[this.locale][t]||t].concat(e))},i.prototype._taggedLiteral=function(e){var t=arguments,n="";return e.forEach((function(e,r){var s=t[r+1];n+=e,void 0!==s&&(n+="%s")})),this.__.apply(null,[n].concat([].slice.call(arguments,1)))},i.prototype._enqueueWrite=function(e){this.writeQueue.push(e),1===this.writeQueue.length&&this._processWriteQueue()},i.prototype._processWriteQueue=function(){var e=this,t=this.writeQueue[0],n=t[0],s=t[1],o=t[2],i=this._resolveLocaleFile(n,s),a=JSON.stringify(this.cache[s],null,2);r.writeFile(i,a,"utf-8",(function(t){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),o(t)}))},i.prototype._readLocaleFile=function(){var e={},t=this._resolveLocaleFile(this.directory,this.locale);try{e=JSON.parse(r.readFileSync(t,"utf-8"))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+t),"ENOENT"!==n.code)throw n;e={}}this.cache[this.locale]=e},i.prototype._resolveLocaleFile=function(e,t){var n=s.resolve(e,"./",t+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~t.lastIndexOf("_")){var r=s.resolve(e,"./",t.split("_")[0]+".json");this._fileExistsSync(r)&&(n=r)}return n},i.prototype._fileExistsSync=function(e){try{return r.statSync(e).isFile()}catch(e){return!1}},i.prototype.__n=function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift(),r=e.shift(),s=function(){};"function"==typeof e[e.length-1]&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();var i=1===r?t:n;this.cache[this.locale][t]&&(i=this.cache[this.locale][t][1===r?"one":"other"]),!this.cache[this.locale][t]&&this.updateFiles?(this.cache[this.locale][t]={one:t,other:n},this._enqueueWrite([this.directory,this.locale,s])):s();var a=[i];return~i.indexOf("%d")&&a.push(r),o.format.apply(o,a.concat(e))},i.prototype.setLocale=function(e){this.locale=e},i.prototype.getLocale=function(){return this.locale},i.prototype.updateLocale=function(e){for(var t in this.cache[this.locale]||this._readLocaleFile(),e)this.cache[this.locale][t]=e[t]},e.exports=function(e){var t=new i(e);for(var n in t)"function"==typeof t[n]&&(t[n]=t[n].bind(t));return t}},function(e,t,n){"use strict";const r=n(1),s=n(0),o=n(6);let i=[];e.exports=function e(t,a,c){let l={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if("string"!=typeof t.extends)return l;const u=/\.json|\..*rc$/.test(t.extends);let h=null;if(u)h=function(e,t){return s.resolve(e,t)}(a,t.extends);else try{h=n(31).resolve(t.extends)}catch(e){}if(!h&&!u)return t;!function(e){if(i.indexOf(e)>-1)throw new o(`Circular extended configurations: '${e}'.`)}(h),i.push(h),l=u?JSON.parse(r.readFileSync(h,"utf8")):n(31)(t.extends),delete t.extends,l=e(l,s.dirname(h),c)}return i=[],c?function e(t,n){const r={},s=e=>e&&"object"==typeof e&&!Array.isArray(e);Object.assign(r,t);for(const o of Object.keys(n))s(n[o])&&s(r[o])?r[o]=e(t[o],n[o]):r[o]=n[o];return r}(l,t):Object.assign({},l,t)}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===e&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var t=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n=(new Error).stack;if(Error.prepareStackTrace=t,null!==n&&"object"==typeof n)return n[e]?n[e].getFileName():void 0}},function(e,t,n){"use strict";const r=n(0),s=n(73),o=n(77),i=Symbol("findUp.stop");e.exports=async(e,t={})=>{let n=r.resolve(t.cwd||"");const{root:o}=r.parse(n),a=[].concat(e),c=async t=>{if("function"!=typeof e)return s(a,t);const n=await e(t.cwd);return"string"==typeof n?s([n],t):n};for(;;){const e=await c({...t,cwd:n});if(e===i)return;if(e)return r.resolve(n,e);if(n===o)return;n=r.dirname(n)}},e.exports.sync=(e,t={})=>{let n=r.resolve(t.cwd||"");const{root:o}=r.parse(n),a=[].concat(e),c=t=>{if("function"!=typeof e)return s.sync(a,t);const n=e(t.cwd);return"string"==typeof n?s.sync([n],t):n};for(;;){const e=c({...t,cwd:n});if(e===i)return;if(e)return r.resolve(n,e);if(n===o)return;n=r.dirname(n)}},e.exports.exists=o,e.exports.sync.exists=o.sync,e.exports.stop=i},function(e,t,n){"use strict";const r=n(0),s=n(1),{promisify:o}=n(2),i=n(74),a=o(s.stat),c=o(s.lstat),l={directory:"isDirectory",file:"isFile"};function u({type:e}){if(!(e in l))throw new Error("Invalid type specified: "+e)}const h=(e,t)=>void 0===e||t[l[e]]();e.exports=async(e,t)=>{u(t={cwd:process.cwd(),type:"file",allowSymlinks:!0,...t});const n=t.allowSymlinks?a:c;return i(e,async e=>{try{const s=await n(r.resolve(t.cwd,e));return h(t.type,s)}catch(e){return!1}},t)},e.exports.sync=(e,t)=>{u(t={cwd:process.cwd(),allowSymlinks:!0,type:"file",...t});const n=t.allowSymlinks?s.statSync:s.lstatSync;for(const s of e)try{const e=n(r.resolve(t.cwd,s));if(h(t.type,e))return s}catch(e){}}},function(e,t,n){"use strict";const r=n(75);class s extends Error{constructor(e){super(),this.value=e}}const o=async(e,t)=>t(await e),i=async e=>{const t=await Promise.all(e);if(!0===t[1])throw new s(t[0]);return!1},a=async(e,t,n)=>{n={concurrency:1/0,preserveOrder:!0,...n};const a=r(n.concurrency),c=[...e].map(e=>[e,a(o,e,t)]),l=r(n.preserveOrder?1:1/0);try{await Promise.all(c.map(e=>l(i,e)))}catch(e){if(e instanceof s)return e.value;throw e}};e.exports=a,e.exports.default=a},function(e,t,n){"use strict";const r=n(76),s=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let n=0;const s=()=>{n--,t.length>0&&t.shift()()},o=(e,t,...o)=>{n++;const i=r(e,...o);t(i),i.then(s,s)},i=(r,...s)=>new Promise(i=>((r,s,...i)=>{n<e?o(r,s,...i):t.push(o.bind(null,r,s,...i))})(r,i,...s));return Object.defineProperties(i,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};e.exports=s,e.exports.default=s},function(e,t,n){"use strict";const r=(e,...t)=>new Promise(n=>{n(e(...t))});e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=n(1),{promisify:s}=n(2),o=s(r.access);e.exports=async e=>{try{return await o(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return r.accessSync(e),!0}catch(e){return!1}}},function(e,t,n){e.exports=function(e){var t=(e=e||n(79)).main;return t&&function(e){return/\\iisnode\\/.test(e.filename)}(t)?function(e){return e.children.length?e.children[0].filename:e.filename}(t):t?t.filename:process.cwd()}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=79},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));class r{constructor(){this._callbacks=[]}emit(e,t){this._callbacks.filter(t=>t.type===e).forEach(e=>{e.callback&&(e.context?e.callback.call(e.context,t):e.callback(e.context,t))})}on(e,t,n){let r={type:e,callback:t,context:n,once:!1};this._callbacks.push(r)}once(e,t,n){let r={type:e,callback:t,context:n,once:!0};this._callbacks.push(r)}}class s extends r{constructor(e,t,n){super(),this._name=e||"",this._srcData={},this._data={},this._type=null,this._promise=new Promise((e,t)=>{this.on("loaded",e)}),this._ready=!1,this.srcData=t||null,this.data=n||null}_parseSrcData(){}_parseData(){}get name(){return this._name}get srcData(){return this._srcData}set srcData(e){this._srcData=e,this._parseSrcData()}get data(){return this._data}set data(e){this._data=e,this._parseData()}get type(){return this._type}get ready(){return this._ready}get promise(){return this._promise}}var o=n(7);class i extends s{constructor(e,t,n){super(e,t,n),this._type=2,this.data=new o.Image,this.data.onload=()=>{this._ready=!0,console.log("[TextureResource] Prepare data complete "+this._name),this.emit("loaded")}}_parseSrcData(e){this._srcData&&(console.log("[TextureResource] Start prepare data "+this._name),this.data.src=this._srcData)}get width(){return this.data?this.data.width:0}get height(){return this.data?this.data.height:0}}class a extends r{constructor(e){super(),this._name=e.substring(0,e.lastIndexOf(".")),this._type="spriteSheet",this._textures=[],this._data={},this._ready=!1,this._promise=new Promise((e,t)=>{this.on("loaded",e)}),this._onDataReady=this._onDataReady.bind(this),this._onTexturesReady=this._onTexturesReady.bind(this)}_onDataReady(){let e=[];this._data.textures.forEach(t=>{let n=b.getTexture(t.name);e.push(n.promise),this._textures.push(n)}),Promise.all(e).then(this._onTexturesReady)}_onTexturesReady(){this._ready=!0,console.log("[SpriteSheetResource] Prepare data complete "+this._name),this.emit("loaded")}getSpriteData(e){return this._data.sprites[e]}getTexture(e){return this._textures.find(t=>t.name===e)}get data(){return this._data}set data(e){console.log("[SpriteSheetResource] Start prepare data "+this._name),this._data=e,this._data.promise.then(this._onDataReady)}get textures(){return this._textures}set textures(e){this._textures=e}get name(){return this._name}get type(){return this._type}get ready(){return this._ready}get texture(){return this._textures[0]}get promise(){return this._promise}}var c=n(14),l=n.n(c);class u extends s{constructor(e,t,n){super(e,t,n),this._type=1,this._textures={},this._sprites={}}get textures(){return this._textures}get sprites(){return this._sprites}}class h extends u{constructor(e,t,n){super(e,t,n)}_parseData(){if(this._data){this._textures=[{name:this.data.meta.image,size:this.data.meta.size}];for(let e in this.data.frames)if(this.data.frames.hasOwnProperty(e)){let t=this.data.frames[e];this._sprites[e]={frame:t.frame,rotated:t.rotated,trimmed:t.trimmed,spriteSourceSize:t.spriteSourceSize,sourceSize:t.sourceSize,scale:{x:+this.data.meta.scale,y:+this.data.meta.scale},rotation:t.rotated?-90:0,textureName:this.data.meta.image}}}}_parseSrcData(){this._srcData&&(console.log("[JSONHashResource] Start prepare data "+this._name),this.data=JSON.parse(this._srcData),this._ready=!0,console.log("[JSONHashResource] Prepare data complete "+this._name),this.emit("loaded",this))}}class p extends u{constructor(e,t,n){super(e,t,n)}_parseData(){this._data&&(this._textures=[{name:this.data.meta.image,size:this.data.meta.size}],this.data.frames.forEach(e=>{this._sprites[e.filename]={frame:e.frame,rotated:e.rotated,trimmed:e.trimmed,spriteSourceSize:e.spriteSourceSize,sourceSize:e.sourceSize,scale:{x:+this.data.meta.scale,y:+this.data.meta.scale},rotation:e.rotated?-90:0,textureName:this.data.meta.image}}))}_parseSrcData(){this._srcData&&(console.log("[JSONArrayResource] Start prepare data "+this._name),this.data=JSON.parse(this._srcData),this._ready=!0,console.log("[JSONArrayResource] Prepare data complete "+this._name),this.emit("loaded",this))}}class f extends u{constructor(e,t,n){super(e,t,n)}_parseData(){this._data&&(this._textures=[],[...this._data.matchAll(/(.+\s)+/gim)].forEach(e=>{let t=e[0].match(/(^.+$)\s(^(size|format|filter|repeat):\s*(.+)\s)+/gim),n={name:"",size:{width:"",height:""}};n.name=t[0].match(/^(.[^:]+)$/gim)[0];let r=null;[...t[0].matchAll(/^(.+):\s*(.+)$/gim)].forEach(e=>{switch(e[1]){case"size":r=e[2].split(","),n.size.width=+r[0].trim(),n.size.height=+r[1].trim()}}),[...e[0].matchAll(/(^.+$)\s?(^\s+(rotate|xy|size|index|offset|orig):\s*(.+)\s?)+/gim)].forEach(e=>{let t=e[0].match(/^(.[^:]+)$/gim)[0],s={frame:{x:0,y:0,w:0,h:0},rotation:0,rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:0,h:0},sourceSize:{w:0,h:0},scale:{x:1,y:1},textureName:n.name};[...e[0].matchAll(/^\s*(.+):\s(.+)$/gim)].forEach(e=>{switch(e[1]){case"rotate":s.rotated="true"===e[2],s.rotation=s.rotated?90:0;break;case"xy":r=e[2].split(","),s.frame.x=+r[0].trim(),s.frame.y=+r[1].trim();break;case"orig":r=e[2].split(","),s.sourceSize.w=+r[0].trim(),s.sourceSize.h=+r[1].trim();break;case"size":r=e[2].split(","),s.frame.w=+r[0].trim(),s.frame.h=+r[1].trim(),s.spriteSourceSize.w=+r[0].trim(),s.spriteSourceSize.h=+r[1].trim();break;case"offset":r=e[2].split(","),s.spriteSourceSize.x=+r[0].trim(),s.spriteSourceSize.y=+r[1].trim(),s.trimmed=!0;break;case"index":-1!=+e[2]&&(t+="_"+ +e[2])}}),this._sprites[t]=s}),this._textures.push(n)}))}_parseSrcData(){this._srcData&&(console.log("[AtlasResource] Start prepare data "+this._name),this.data=this._srcData,this._ready=!0,console.log("[AtlasResource] Start prepare data "+this._name),this.emit("loaded",this))}}class d extends u{constructor(e,t,n){super(e,t,n)}_parseData(){this._data&&(this._textures=[],this.data.textures.forEach(e=>{this._textures.push({name:e.image,size:e.size}),e.frames.forEach(t=>{this._sprites[t.filename]={frame:t.frame,rotated:t.rotated,trimmed:t.trimmed,spriteSourceSize:t.spriteSourceSize,sourceSize:t.sourceSize,scale:{x:+e.scale,y:+e.scale},rotation:t.rotated?-90:0,textureName:e.image}})}))}_parseSrcData(){this._srcData&&(console.log("[Phaser3Resource] Start prepare data "+this._name),this.data=JSON.parse(this._srcData),this._ready=!0,console.log("[Phaser3Resource] Prepare data complete "+this._name),this.emit("loaded",this))}}class g extends u{constructor(e,t,n){super(e,t,n)}_parseData(){this._data&&(this._textures=[],this.data.textures.forEach(e=>{this._textures.push({name:e.image,size:e.size}),e.sprites.forEach(t=>{this._sprites[t.filename]={frame:t.region,rotated:!1,trimmed:!0,spriteSourceSize:{x:t.margin.x,y:t.margin.y,w:t.region.w,h:t.region.h},sourceSize:{w:t.region.w+t.margin.w,h:t.region.h+t.margin.h},scale:{x:1,y:1},rotation:t.rotated?-90:0,textureName:e.image}})}))}_parseSrcData(){this._srcData&&(console.log("[Godot3Resource] Start prepare data "+this._name),this.data=JSON.parse(this._srcData),this._ready=!0,console.log("[Godot3Resource] Prepare data complete "+this._name),this.emit("loaded",this))}}class m extends u{constructor(e,t,n){super(e,t,n)}_parseData(){if(this._data){this._textures=[{name:this.data.meta.image,size:{w:void 0,h:void 0}}];for(let e in this.data.frames)if(this.data.frames.hasOwnProperty(e)){let t=this.data.frames[e];this._sprites[e]={frame:{x:t.x,y:t.y,w:t.w,h:t.h},rotated:!1,trimmed:!0,spriteSourceSize:{x:t.sx,y:t.sy,w:t.sw,h:t.sh},sourceSize:{w:t.w,h:t.h},scale:{x:+this.data.meta.scale,y:+this.data.meta.scale},rotation:t.rotated?-90:0,textureName:this.data.meta.image}}}}_parseSrcData(){this._srcData&&(console.log("[Panda2Resource] Start prepare data "+this._name),this.data=JSON.parse(this._srcData),this._ready=!0,console.log("[Panda2Resource] Prepare data complete "+this._name),this.emit("loaded",this))}}var y=new class{constructor(){this.patterns=[{pattern:/{[.\s]*"textures"[.\s]*:[.\s]*\[[.\s]*(\s|\S)*"frames":/im,resourceClass:d,type:1},{pattern:/{[.\s]*"textures"[.\s]*:[.\s]*\[[.\s]*(\s|\S)*"sprites":/im,resourceClass:g,type:1},{pattern:/(^.+$)\s([.\s]*(size|format|filter|repeat):\s*(.+)\s)+/im,resourceClass:f,type:1},{pattern:/{(\s|\S)*?(.+"(x|y|w|h|sx|sy|sw|sh)".+\s){8}/im,resourceClass:m,type:1},{pattern:/{[.\s]*"frames"[.\s]*:[.\s]*{/im,resourceClass:h,type:1},{pattern:/{[.\s]*"frames"[.\s]*:[.\s]*\[/im,resourceClass:p,type:1}]}getBaseType(e){return this.getSrcResourceType(e)}getSrcResourceType(e){if(e.type&&""!==e.type)return e.type;if(e.name){let t=e.name.lastIndexOf(".");return e.name.substring(t+1).toLocaleLowerCase()}return""}check(e){return new Promise((t,n)=>{switch(this.getBaseType(e)){case"image/png":case"image/jpg":case"image/jpeg":this.readTextureFile(e,t,n);break;default:this.readDataFile(e,t,n)}})}readTextureFile(e,t,n){let r=new l.a;r.onload=e=>{t({typeData:{resourceClass:i,type:2},srcData:e.target.result})},r.readAsDataURL(e)}readDataFile(e,t,n){let r=new l.a;r.onload=e=>{let r=this.machWithPatterns(e.target.result);r?t({typeData:r,srcData:e.target.result}):n()},r.readAsText(e)}machWithPatterns(e){return this.patterns.find(t=>-1!==e.search(t.pattern))}},b=new class{constructor(){this._textures={},this._data={},this._spriteSheets={}}addResource(e,t){return new Promise((n,r)=>{y.check(t).then(t=>{let r=null;switch(t.typeData.type){case 1:r=this.getData(e,t.typeData,t.srcData),this.getSpriteSheet(e).data=r;break;case 2:r=this.getTexture(e,t.typeData,t.srcData)}n(r)},()=>{console.log("[ResourcesManager] Unsupported file type"),r()})})}getData(e,t,n){return this._data.hasOwnProperty(e)||(this._data[e]=new t.resourceClass(e)),void 0!==n&&(this._data[e].srcData=n),this._data[e]}getTexture(e,t,n){return this._textures.hasOwnProperty(e)||(void 0===t&&(t={resourceClass:i,type:2}),this._textures[e]=new t.resourceClass(e)),void 0!==n&&(this._textures[e].srcData=n),this._textures[e]}getSpriteSheet(e){return this._spriteSheets.hasOwnProperty(e)||(this._spriteSheets[e]=new a(e),this._spriteSheets.spriteSheet=this._spriteSheets[e]),this._spriteSheets[e]}},_=n(1),v=n.n(_),x=n(0),w=n.n(x),O=n(33),E=new class extends r{constructor(){super(),this._inProgress=!1,this._loaderStack=[],this.init()}init(){this.gameXHR=new O.XMLHttpRequest,this.gameXHR.addEventListener("error",this.onError.bind(this)),this.gameXHR.addEventListener("load",e=>{e.target.response=this.makeResponse(e.target.responseURL,e.target.response),this.onLoad(e)})}add(e){this._loaderStack.push({url:e})}load(){this._inProgress=!0;let e=this._loaderStack.shift();if(console.log("[ResourceLoader] Start loading: "+e.url),e.url.match(/(http:|https:)/))this.gameXHR.open("GET",e.url,!0),this.gameXHR.responseType="buffer",this.gameXHR.send();else{let t=w.a.resolve(process.cwd(),e.url);if(!v.a.existsSync(t))return void console.log("[ResourceLoader] File not exist: "+t);v.a.readFile(w.a.resolve(process.cwd(),e.url),{},(t,n)=>{let r={target:{response:this.makeResponse(e.url,n),responseURL:w.a.resolve(process.cwd(),e.url)}};this.onLoad(r)})}}makeResponse(e,t){let n="";const{name:r,ext:s}=w.a.parse(e);switch(s){case".png":n="image/png";break;case".jpg":case".jpeg":n="image/jpeg"}return{buffer:t,type:n,name:r}}onError(e){console.log("[ResourceLoader] Loading error")}onLoad(e){console.log("[ResourceLoader] Loading complete: "+e.target.responseURL),this.fileLoadingComplete(e.target),this._loaderStack.length>0?this.load():(console.log("[ResourceLoader] All files loaded"),this._inProgress=!1,this.emit("allComplete"))}fileLoadingComplete(e){let t=w.a.basename(e.responseURL);b.addResource(t,e.response).then(t=>{switch(t.type){case 1:t.textures.forEach(t=>{this.add(w.a.dirname(e.responseURL)+"/"+t.name)}),this._inProgress||this.load()}},()=>{})}get loaderStack(){return this._loaderStack}},S=new class{constructor(){this._canvas=Object(o.createCanvas)(100,100),this._context=this._canvas.getContext("2d",{alpha:!0}),this.addListeners()}addListeners(){}drawSpriteToExport(e,t,n){return this._context.resetTransform(),this._context.clearRect(0,0,this._canvas.width,this._canvas.width),this.drawSprite(e,t),this._canvas.toDataURL(n)}drawSprite(e,t){let n=b.getSpriteSheet(""+e);if(n&&n.ready){let e=n.getSpriteData(t),r=n.getTexture(e.textureName),s=this.calculateDrawData(r.data,e);this._context.scale(e.scale.x,e.scale.y),this.correctCanvasSize(e),e.rotated&&(e.rotation>0?(this._context.translate(e.sourceSize.w,0),this._context.rotate(Math.PI/180*90)):(this._context.translate(0,e.sourceSize.h),this._context.rotate(Math.PI/180*-90))),this._context.drawImage(s.image,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}}calculateDrawData(e,t){return{image:e,sx:t.frame.x,sy:t.frame.y,sWidth:t.rotated?t.frame.h:t.frame.w,sHeight:t.rotated?t.frame.w:t.frame.h,dx:t.rotated?t.spriteSourceSize.y:t.spriteSourceSize.x,dy:t.rotated?t.spriteSourceSize.x:t.spriteSourceSize.y,dWidth:t.rotated?t.spriteSourceSize.h:t.spriteSourceSize.w,dHeight:t.rotated?t.spriteSourceSize.w:t.spriteSourceSize.h}}correctCanvasSize(e){this._canvas.width=e.sourceSize.w,this._canvas.height=e.sourceSize.h}},j=n(3),k=new class{constructor(){this._spriteSheetsData={}}exportImages(e,t){this._spriteSheetsData.hasOwnProperty(e)||(this._spriteSheetsData[e]={});let n=this._spriteSheetsData[e];t.forEach(t=>{console.log("[Exporter] Receiving sprite "+t);let r=-1===t.indexOf(/(.jpg|.jpeg)/)?"image/png":"image/jpg";n[t]={data:S.drawSpriteToExport(e,t,r),type:r},console.log("[Exporter] Sprite received "+t)});let r=b.getSpriteSheet(e);this._exportSprites(n,r.name)}_exportSprites(e,t){console.log("[Exporter] Export sprite sheet "+t);for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s="image/jpg"===r.type?".jpg":".png",{dir:o}=w.a.parse(n),i=w.a.resolve(process.cwd(),j.argv.out,t);v.a.mkdir(w.a.resolve(i,o),{recursive:!0},e=>{if(e)throw e;let t=w.a.resolve(i,n.replace(s,""))+s;console.log("[Exporter] Export file "+t),v.a.writeFile(t,this._formatURL(r.data),"base64",e=>{if(e)throw e})})}}_formatURL(e){return e.replace(/^data:image\/(png|jpg);base64,/,"")}};class C{constructor(){j.argv.data&&j.argv.out?(this.init(),this.loadResources(),this.startExport()):console.log('You must specify "--data" and "--out" parameters')}init(){}startExport(){let e=[],t=b.getSpriteSheet(w.a.basename(j.argv.data));t.promise.then(()=>{for(let n in t.data.sprites)t.data.sprites.hasOwnProperty(n)&&e.push(n);k.exportImages("spriteSheet",e)})}loadResources(){E.on("allComplete",this.allResourcesLoaded,this),E.add(j.argv.data),E.load()}allResourcesLoaded(){}}new C}]);